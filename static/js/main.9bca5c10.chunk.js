(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(25)},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(12),a=n.n(o),u=n(8),c=n(14),s=n.n(c),l=n(16),f=n(2),h=n(1),d=35,v=window.innerWidth,m=window.innerHeight,g=.5,b={borderColor:"#000",blockColor:"#bbbbbb",startEndColor:["green","red"]},p={START_POSITION:"START_POSITION",END_POSITION:"END_POSITION",BARIER:"BARIER",EMPTY:"EMPTY",VISITED:"VISITED"};function E(e,t){return{w:Math.floor(e/d),h:Math.floor(t/d)}}function w(e,t){return{w:Math.floor(e*d),h:Math.floor(t*d)}}function O(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];return[n*d,r*d]}function S(e){var t=e.color,n=void 0===t?"rgb(152, 251, 152)":t,r=e.position,i=e.context,o=e.width,a=O(r),u=Object(f.a)(a,2),c=u[0],s=u[1],l=o||d-2*g;i.fillStyle=n,i.fillRect(c+2*g,s+2*g,l,l)}function k(e){var t=Object(f.a)(e,2),n=t[0];return t[1]*E(v,m).w+n}function y(e){var t=E(v,m).w,n=Math.floor(e/t);return[e-n*t,n]}var T=n(5),j=n(6),x=n(3);function A(e){var t,n=Object(f.a)(e.position,2),r=n[0],i=n[1],o=e.width,a=e.scale,u=void 0===a?.3:a;o<d?(t=requestAnimationFrame(function(){return A(Object(x.a)({},e,{width:o,scale:u}))}),S(Object(x.a)({},e,{position:[r+u,i+u]})),u>0&&o%5===0&&(u-=.1),o++):cancelAnimationFrame(t)}function I(e){var t,n=e.width,r=void 0===n?d-10:n;r<d?(t=requestAnimationFrame(function(){return I(Object(x.a)({},e,{width:r}))}),function(e){var t=e.color,n=void 0===t?"#e84a4a":t,r=e.position,i=e.context,o=O(r),a=Object(f.a)(o,2),u=a[0],c=a[1];i.strokeStyle=n,i.beginPath(),i.moveTo(u+10,c+10),i.lineTo(u+d-10,c+d-10),i.stroke(),i.beginPath(),i.moveTo(u+d-10,c+10),i.lineTo(u+10,c+d-10),i.stroke()}(Object(x.a)({},e,{width:r})),r++):(S(Object(x.a)({},e,{color:"#fff",width:0})),cancelAnimationFrame(t))}var M=function(){function e(t){Object(T.a)(this,e),this.index=t,this.canDrawe=!1,this.context=null,this.canRemove=!1,this.position=!1}return Object(j.a)(e,[{key:"getBarier",value:function(){return this}},{key:"getIndex",value:function(){return this.index}},{key:"render",value:function(e){this.context=e,this.position=y(this.index),this.canRemove||(this.canDrawe?S({position:this.position,context:e,color:b.blockColor}):A({position:this.position,context:e,color:b.blockColor,width:20}),this.canDrawe=!0)}},{key:"remove",value:function(){this.canRemove=!0,I({position:this.position,context:this.context})}}]),e}(),R=new(function(){function e(t){var n=t.w,r=t.h;Object(T.a)(this,e),this.graph={},this.cellCount=n*r,this.lastIndex=null}return Object(j.a)(e,[{key:"createGraph",value:function(){this.clear();for(var e=0;e<this.cellCount;e++)this.graph[e]={type:p.EMPTY,siblings:this.getSiblings(e).filter(function(e){return"undefined"!==typeof e})};return this}},{key:"getVertexByIndex",value:function(e){return this.graph[e]}},{key:"updateGraph",value:function(e){var t=e.index,n=e.type;this.graph[t]&&(this.graph[t]=Object(x.a)({},this.graph[t],{type:n}),n===p.BARIER&&(this.graph[t]=Object(x.a)({},this.graph[t],{type:n,siblings:[]})))}},{key:"getSiblings",value:function(e){var t=this.getLeftSibling(e),n=this.getTopSibling(e),r=this.getRightSibling(e),i=this.getDownSibling(e);return[t,this.getTopLeftDiagonal(n,t),n,this.getTopRightDiagonal(n,r),r,this.getBotRightDiagonal(i,r),i,this.getBotLeftDiagonal(i,t)]}},{key:"getTopLeftDiagonal",value:function(e,t){if(e>=0&&t>=0)return e-1}},{key:"getTopRightDiagonal",value:function(e,t){if(e>=0&&t>=0)return e+1}},{key:"getBotLeftDiagonal",value:function(e,t){if(e>=0&&t>=0)return e-1}},{key:"getBotRightDiagonal",value:function(e,t){if(e>=0&&t)return e+1}},{key:"getBottomDiagonal",value:function(e){return[e-1,e+1]}},{key:"getDownSibling",value:function(e){var t=E(v,m),n=t.w,r=t.h;if(Math.floor(e/n)<r-1)return e+n}},{key:"getTopSibling",value:function(e){var t=E(v,m).w;if(Math.floor(e/t)>0)return e-t}},{key:"getRightSibling",value:function(e){var t=E(v,m).w;if(e%t<t-1)return e+1}},{key:"getLeftSibling",value:function(e){if(e%E(v,m).w>0)return e-1}},{key:"getGraph",value:function(){return this.graph}},{key:"clear",value:function(){return this.graph={},this}}]),e}())(E(v,m)),D=n(4);function C(e,t){t.forEach(function(t){e.updateGraph({index:t.getIndex(),type:p.BARIER})})}function N(e,t){e.updateGraph({index:t,type:p.START_POSITION})}function P(e,t){e.updateGraph({index:t,type:p.END_POSITION})}var L=Object(h.d)("graph"),B=L.event(),G=L.event(),V=L.event(),_=L.event(),F=L.event(),U=L.event(),$=L.store([0,110]),q=L.store([]);L.onCreateStore(function(e){return e.reset(B)});var Y=Object(h.h)({source:Object(h.m)({source:q,clock:_,fn:function(e,t){return e.find(function(e){return e.getIndex()===t})}}),filter:Boolean});Y.watch(function(e){return e.remove()}),q.on(V,function(e,t){var n=new M(t);return e.find(function(e){return e.getIndex()===t})?e:[].concat(Object(D.a)(e),[n])}).on(Y,function(e,t){return e.filter(function(e){return e!==t})}),$.on(F,function(e,t){return[t,e[1]]}).on(U,function(e,t){return[e[0],t]});var W=Object(h.b)({barrier:q,startEndPosition:$}).map(function(e){var t=Object(f.a)(e.startEndPosition,2),n=t[0],r=t[1],i=R.createGraph();return C(i,e.barrier),N(i,n),P(i,r),Object(x.a)({},e,{graph:i.graph})}),X=n(7),J=function(e){return e.type!==p.BARIER};function H(e,t,n){for(var r=[],i=n[e];i&&i!==t;)r.unshift(i),i=n[i];return r.length>0&&r.push(e),r.unshift(t),r}function z(){var e=[];return function(t){var n=t.filter(function(t){return!e.includes(t)});return e.push.apply(e,Object(D.a)(n)),n}}function K(e,t,n){for(var r=he(),i=z(),o=z(),a=0,u=!0,c=[e],s=[e],l={};u&&c.length>0;){var f=c.shift();r.setVertex({data:o(s),name:"visited"});for(var h=0;h<n[f].siblings.length;h++){var d=n[f].siblings[h],v=R.getVertexByIndex(d);if(!s.includes(d)&&J(v)&&(c.push(d),s.push(d),l[d]=f,a++),d===t){u=!1;break}}r.setVertex({data:i(c),name:"queue"})}return r.setDrowAnimated(a),H(t,e,l)}function Q(e,t,n){for(var r=he(),i=z(),o=z(),a=0,u=!0,c=[e],s=[e],l={};u&&c.length>0;){var f=c.shift();r.setVertex({data:o(s),name:"visited"});for(var h=0;h<n[f].siblings.length;h++){var d=n[f].siblings[h],v=R.getVertexByIndex(d);if(!s.includes(d)&&J(v)&&(c.unshift(d),s.push(d),l[d]=f,a++),d===t){u=!1;break}}r.setVertex({data:i(c),name:"queue"})}return r.setDrowAnimated(a),H(t,e,l)}var Z=Object(h.d)(),ee=Object(h.e)(),te=Object(h.e)(),ne=Object(h.e)(),re=Object(h.e)(),ie=Object(h.e)(),oe=Z.store(0).on(ie,function(e,t){return t}),ae=Z.store(!1).on(re,function(){return!0}),ue=Object(h.l)(ee,"bredth first search"),ce=Z.store({queue:[],visited:[]}).on(ne,function(e,t){var n=t.data,r=t.name;return Object(x.a)({},e,Object(X.a)({},r,[].concat(Object(D.a)(e[r]),[n])))}),se=Z.store(0).on(te,function(e){return e+1}),le=Object(h.f)([{searchFunction:K,name:"bredth first search"},{searchFunction:Q,name:"depth first search"}]),fe=Object(h.b)(ue,le,function(e,t){return t.find(function(t){return t.name===e})}),he=function(){return{setDrowAnimated:function(e){re(),ie(e)},setVertex:function(e){ne(e),te()}}};Z.onCreateStore(function(e){return e.reset(G,B)}),ee.watch(function(){return me(de.END_GAME)});var de={START:"START",RESTART:"RESTART",PAUSE:"PAUSE",RESUME:"RESUME",CLEAR:"CLEAR",END_GAME:"END_GAME"},ve=Object(h.d)("game"),me=ve.event(),ge=ve.event(),be=ve.store({}).reset(B,G),pe=Object(h.l)(ge,16).reset(B),Ee=Object(h.l)(me,de.END_GAME).reset(B),we=Object(h.h)({source:Ee,filter:Ee.map(function(e){return e===de.START})});Object(h.h)({source:Ee,filter:Ee.map(function(e){return e===de.CLEAR}),target:B});var Oe=Object(h.h)({source:Ee,filter:Ee.map(function(e){return e===de.END_GAME})});function Se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.some(function(t){return e===t})}function ke(e,t,n){for(var r=0;r<e.length;r++){var i=y(e[r]),o=Object(f.a)(i,2);S({position:[o[0],o[1]],context:t,color:n})}}Object(h.m)({source:{graph:W,algoritm:fe},clock:we,target:be,fn:function(e){var t=e.graph,n=e.algoritm,r=Object(f.a)(t.startEndPosition,2),i=r[0],o=r[1];G();var a=window.performance.now();return{path:n.searchFunction(i,o,t.graph),timeEnd:window.performance.now()-a}}});var ye=function(){function e(){Object(T.a)(this,e),this.count=1,this.animateId=null}return Object(j.a)(e,[{key:"start",value:function(e,t){var n=this,r=e.traversedVertexes,i=e.vertexesCount,o=Ee.getState(),a=pe.getState();(clearTimeout(this.animateId),o!==de.END_GAME)&&(o!==de.PAUSE?this.count<r.visited.length?(ke(r.visited[this.count],t,"#afeeee"),this.count<r.visited.length-1&&ke(r.queue[this.count],t,"rgb(152, 251, 152)"),this.animateId=setInterval(function(){return n.start({traversedVertexes:r,vertexesCount:i},t)},this.getFps(a)),G.watch(function(){return clearTimeout(n.animateId)}),this.count++):(me(de.END_GAME),this.clear(),function(e){for(var t=e.context,n=e.path,r=void 0===n?[]:n,i=e.color,o=void 0===i?"green":i,a=0;a<r.length;a++){var u=y(r[a]),c=O(u),s=Object(f.a)(c,2),l=s[0],h=s[1];Re&&(t.beginPath(),t.strokeStyle=o,t.lineWidth=2,t.moveTo(Re[0],Re[1]),t.lineTo(l+d/2,h+d/2),t.stroke()),Re=[l+d/2,h+d/2]}Re=null}({path:be.getState().path,context:t})):clearTimeout(this.animateId))}},{key:"getFps",value:function(e){return 1e3/(1===e?e:10*e)}},{key:"clear",value:function(){this.count=1,this.animateId=null}},{key:"removeAnimation",value:function(){clearTimeout(this.animateId)}}]),e}(),Te=new ye,je=new(function(){function e(){Object(T.a)(this,e),this.isMouseDown=!1,this.isMouseMove=!1,this.listeners=[],this.state={},this.lastIndex=null,this.disabledListeners=[]}return Object(j.a)(e,[{key:"init",value:function(){var e=this;return Ee.watch(function(t){Se(t,de.START,de.PAUSE,de.RESUME)?e.disabledListener():e.includeListener()}),this}},{key:"registerClickEventToCanvas",value:function(e){var t=this;e.addEventListener("mousedown",function(e){t.listeners.filter(function(e){return"mousedown"===e.type}).forEach(function(e){return e.eventListener()}),t.isMouseDown=!0,t.isMouseMove=!1}),e.addEventListener("mouseup",function(e){t.isMouseDown=!1,t.listeners.filter(function(e){return"mouseup"===e.type}).forEach(function(n){return n.eventListener(e,t.state)})}),e.addEventListener("click",function(e){t.listeners.filter(function(e){return"click"===e.type}).forEach(function(n){t.isMouseMove||n.eventListener(e,t.state)})}),e.addEventListener("mousemove",function(e){var n=function(e){var t=E(e.clientX,e.clientY);return k([t.w,t.h])}(e);t.isMouseDown&&n!==t.lastIndex&&(t.lastIndex=n,t.isMouseMove=!0,t.listeners.filter(function(e){return"mousemove"===e.type}).forEach(function(n){return n.eventListener(e,t.state,t.lastIndex)}))})}},{key:"disabledListener",value:function(){this.clear()}},{key:"includeListener",value:function(){this.listeners=this.disabledListeners}},{key:"addMouseDownEvent",value:function(e){this.listeners.push({type:"mousedown",eventListener:e})}},{key:"addMouseUpEvent",value:function(e){this.listeners.push({type:"mouseup",eventListener:e})}},{key:"addMouseMoveEvent",value:function(e){this.listeners.push({type:"mousemove",eventListener:e})}},{key:"addMouseClickEvent",value:function(e){this.listeners.push({type:"click",eventListener:e})}},{key:"setState",value:function(e){return this.state=e,this}},{key:"clear",value:function(){this.listeners.length>0&&(this.disabledListeners=this.listeners,this.isMouseDown=!1,this.isMouseMove=!1,this.listeners=[],this.lastIndex=null)}}]),e}());je.init();var xe=Object(h.b)({canDrowAnimated:ae,traversedVertexes:ce,vertexesCount:se,gameState:Ee});function Ae(e,t){var n=E(e.clientX,e.clientY),r=k([n.w,n.h]),i=Object(f.a)(t.startEndPosition,2),o=i[0],a=i[1];return{renderForMove:function(){r!==o&&r!==a&&V(r)},renderForClick:function(){r!==o&&r!==a&&_(r)}}}var Ie=null;function Me(e){var t=E(e.clientX,e.clientY),n=k([t.w,t.h]),r=W.getState();switch(Ie||(Ie=r.graph[n].type),Ie){case p.BARIER:return Ae(e,r).renderForClick();case p.START_POSITION:return function(e,t){var n=t.barrier.find(function(t){return t.index===e}),r=Object(f.a)(t.startEndPosition,2)[1];n||e===r||F(e)}(n,r);case p.END_POSITION:return function(e,t){var n=t.barrier.find(function(t){return t.index===e}),r=Object(f.a)(t.startEndPosition,1)[0];n||e===r||U(e)}(n,r);case p.EMPTY:return Ae(e,r).renderForMove()}}var Re=null;var De=document.getElementById("viewport");if(De){var Ce=De.getContext("2d");!function(e,t){var n=E(v,m),r=w(n.w,n.h),i=function(e){for(var t=new Path2D,n=E(v,m),r=w(n.w,n.h),i=0;i<=n.w;i++)t.moveTo(i*d+g,0),t.lineTo(i*d+g,r.h);for(var o=0;o<=n.h;o++)t.moveTo(0,o*d+g),t.lineTo(r.w,o*d+g);return{grid:t,applyStyles:function(){e.lineWidth=g,e.strokeStyle=b.borderColor}}}(t);function o(n){!function(e,t){e.clearRect(0,0,t.width,t.height)}(t,e),je.setState(n),function(e,t){for(var n=0;n<e.length;n++)S({position:y(e[n]),context:t,color:b.startEndColor[n]})}(n.startEndPosition,t),function(e,t){for(var n=0;n<e.length;n++)e[n].render(t)}(n.barrier,t),i.applyStyles(),t.stroke(i.grid)}!function(e,t){var n=t.w,r=t.h;e.height=r,e.width=n}(e,r),je.registerClickEventToCanvas(e),je.addMouseMoveEvent(function(e,t){return Me(e)}),je.addMouseUpEvent(function(){return Ie=null}),je.addMouseClickEvent(function(e,t){return Ae(e,t).renderForClick()}),W.watch(o),Object(h.m)({source:W,clock:Object(h.k)([B,G])}).watch(o),xe.watch(function(e){var n=e.canDrowAnimated,r=e.gameState,i=Object(l.a)(e,["canDrowAnimated","gameState"]);n&&(r===de.START&&Te.clear(),Te.removeAnimation(),Te.start(i,t))})}(De,Ce)}n(24);var Ne=Object(h.f)({});function Pe(){var e,t,n,r,o=Object(u.a)(le),a=Object(u.a)(ue),c=Object(u.a)(Ee),l=Object(u.a)(Ne),f=Object(u.a)(pe);return i.a.createElement("div",{className:"App"},i.a.createElement(s.a,null,i.a.createElement("div",{className:"select-bar"},i.a.createElement("h2",{className:"select-bar_title"},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),i.a.createElement("div",{className:"info-wrapper"},i.a.createElement("h3",{className:"select-bar_info"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0439: ",i.a.createElement("span",null,(null===l||void 0===l?void 0:l.numberOfIterations)||0)),i.a.createElement("h3",{className:"select-bar_info"},"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f:",i.a.createElement("span",null," ",(null===l||void 0===l?void 0:null===(e=l.path)||void 0===e?void 0:null===(t=e.timeEnd)||void 0===t?void 0:t.toFixed(4))||0," ms")),i.a.createElement("h3",{className:"select-bar_info"},"\u0414\u043b\u0438\u043d\u0430 \u043f\u0443\u0442\u0438: ",i.a.createElement("span",null,(null===l||void 0===l?void 0:null===(n=l.path)||void 0===n?void 0:null===(r=n.path)||void 0===r?void 0:r.length)||0))),i.a.createElement("h2",{className:"select-bar_title"},"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c:"),i.a.createElement("ul",null,o.map(function(e,t){return i.a.createElement("li",{onClick:function(){return ee(e.name)},className:a===e.name?"isActive":"",key:e.name},e.name)})),i.a.createElement("div",{className:"btn-wrapper"},i.a.createElement("button",{className:"btn",onClick:function(){return me(de.START)}},"\u0421\u0442\u0430\u0440\u0442"),Se(c,de.START,de.PAUSE,de.RESUME)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"btn",onClick:function(){return me(de.PAUSE)}},"\u041f\u0430\u0443\u0437\u0430"),i.a.createElement("button",{className:"btn",onClick:function(){return me(de.RESUME)}},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")),i.a.createElement("button",{className:"btn",onClick:function(){return me(de.CLEAR)}},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c")),i.a.createElement("div",{className:"info-wrapper"},i.a.createElement("h3",{className:"select-bar_info"},"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: ",i.a.createElement("span",null,f)),i.a.createElement("input",{type:"number",value:f,max:"20",min:"1",maxLength:"2",onChange:function(e){var t=e.target;ge(parseInt(t.value))}})))))}Object(h.m)({source:{numberOfIterations:oe,path:be},clock:Oe,target:Ne}),n.d(t,"selectAlgoritm",function(){return ee}),n.d(t,"incrementVertex",function(){return te}),n.d(t,"setVertex",function(){return ne}),n.d(t,"setDrowAnimated",function(){return re}),n.d(t,"increment",function(){return ie}),n.d(t,"$numberOfIterations",function(){return oe}),n.d(t,"$canDrowAnimated",function(){return ae}),n.d(t,"$currentAlgoritm",function(){return ue}),n.d(t,"$traversedVertexes",function(){return ce}),n.d(t,"$vertexesCount",function(){return se}),n.d(t,"$algoritms",function(){return le}),n.d(t,"$searchAlgoritm",function(){return fe}),n.d(t,"createLogger",function(){return he}),n.d(t,"canVisitedVertex",function(){return J}),n.d(t,"restorePath",function(){return H}),n.d(t,"removeDoubleVertex",function(){return z}),n.d(t,"breadthFirstSearch",function(){return K}),n.d(t,"depthFirstSearch",function(){return Q}),n.d(t,"graphControll",function(){return R}),n.d(t,"resetStore",function(){return B}),n.d(t,"clearCanvas",function(){return G}),n.d(t,"setBarrier",function(){return V}),n.d(t,"removeBarrierItem",function(){return _}),n.d(t,"triggerStartPosition",function(){return F}),n.d(t,"triggerEndPosition",function(){return U}),n.d(t,"$startEndPosition",function(){return $}),n.d(t,"$barriers",function(){return q}),n.d(t,"removedBarrier",function(){return Y}),n.d(t,"$graph",function(){return W}),n.d(t,"setBarrierToGraph",function(){return C}),n.d(t,"setStartPositionToGraph",function(){return N}),n.d(t,"setEndPositionToGraph",function(){return P}),n.d(t,"drawSquareWithAnimation",function(){return A}),n.d(t,"drawMarkerWithAnimation",function(){return I}),n.d(t,"Barier",function(){return M}),n.d(t,"GameLoop",function(){return ye}),n.d(t,"gameLoop",function(){return Te}),n.d(t,"gameStatus",function(){return de}),n.d(t,"setGameStatus",function(){return me}),n.d(t,"setTimer",function(){return ge}),n.d(t,"$path",function(){return be}),n.d(t,"$currentTimer",function(){return pe}),n.d(t,"$gameState",function(){return Ee}),n.d(t,"startGame",function(){return we}),n.d(t,"endGame",function(){return Oe}),n.d(t,"checkGameStatus",function(){return Se}),n.d(t,"renderVisitedVertex",function(){return ke});var Le=document.getElementById("root");a.a.render(i.a.createElement(Pe,null),Le)}},[[17,1,2]]]);
//# sourceMappingURL=main.9bca5c10.chunk.js.map