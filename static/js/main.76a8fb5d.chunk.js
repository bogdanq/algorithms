(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(t,e,n){t.exports=n(24)},23:function(t,e,n){},24:function(t,e,n){"use strict";n.r(e);var r=n(1),i=n.n(r),o=n(13),a=n.n(o),u=n(10),c=n(15),s=n(2),l=n(0),f=35,h=window.innerWidth,d=window.innerHeight,v=.5,g={borderColor:"#000",blockColor:"#8080805c",startEndColor:["green","red"]},m={START_POSITION:"START_POSITION",END_POSITION:"END_POSITION",BARIER:"BARIER",EMPTY:"EMPTY",VISITED:"VISITED"};function b(t,e){return{w:Math.floor(t/f),h:Math.floor(e/f)}}function p(t,e){return{w:Math.floor(t*f),h:Math.floor(e*f)}}function E(t){var e=Object(s.a)(t,2),n=e[0],r=e[1];return[n*f,r*f]}function O(t){var e=t.color,n=void 0===e?"rgb(152, 251, 152)":e,r=t.position,i=t.context,o=E(r),a=Object(s.a)(o,2),u=a[0],c=a[1],l=f-2*v;i.fillStyle=n,i.fillRect(u+2*v,c+2*v,l,l)}function S(t){var e=Object(s.a)(t,2),n=e[0];return e[1]*b(h,d).w+n}function w(t){var e=b(h,d).w,n=Math.floor(t/e);return[t-n*e,n]}var y=n(4),T=n(5),k=n(6),A=new(function(){function t(e){var n=e.w,r=e.h;Object(y.a)(this,t),this.graph={},this.cellCount=n*r,this.lastIndex=null}return Object(T.a)(t,[{key:"createGraph",value:function(){this.clear();for(var t=0;t<this.cellCount;t++)this.graph[t]={type:m.EMPTY,siblings:this.getSiblings(t).filter(function(t){return"undefined"!==typeof t})};return this}},{key:"getVertexByIndex",value:function(t){return this.graph[t]}},{key:"updateGraph",value:function(t){var e=t.index,n=t.type;this.graph[e]&&(this.graph[e]=Object(k.a)({},this.graph[e],{type:n}),n===m.BARIER&&(this.graph[e]=Object(k.a)({},this.graph[e],{type:n,siblings:[]})))}},{key:"getSiblings",value:function(t){var e=this.getLeftSibling(t),n=this.getTopSibling(t),r=this.getRightSibling(t),i=this.getDownSibling(t);return[e,this.getTopLeftDiagonal(n,e),n,this.getTopRightDiagonal(n,r),r,this.getBotRightDiagonal(i,r),i,this.getBotLeftDiagonal(i,e)]}},{key:"getTopLeftDiagonal",value:function(t,e){if(t>=0&&e>=0)return t-1}},{key:"getTopRightDiagonal",value:function(t,e){if(t>=0&&e>=0)return t+1}},{key:"getBotLeftDiagonal",value:function(t,e){if(t>=0&&e>=0)return t-1}},{key:"getBotRightDiagonal",value:function(t,e){if(t>=0&&e)return t+1}},{key:"getBottomDiagonal",value:function(t){return[t-1,t+1]}},{key:"getDownSibling",value:function(t){var e=b(h,d),n=e.w,r=e.h;if(Math.floor(t/n)<r-1)return t+n}},{key:"getTopSibling",value:function(t){var e=b(h,d).w;if(Math.floor(t/e)>0)return t-e}},{key:"getRightSibling",value:function(t){var e=b(h,d).w;if(t%e<e-1)return t+1}},{key:"getLeftSibling",value:function(t){if(t%b(h,d).w>0)return t-1}},{key:"getGraph",value:function(){return this.graph}},{key:"clear",value:function(){return this.graph={},this}}]),t}())(b(h,d)),j=n(3);function I(t,e){e.forEach(function(e){t.updateGraph({index:e,type:m.BARIER})})}function M(t,e){t.updateGraph({index:e,type:m.START_POSITION})}function R(t,e){t.updateGraph({index:e,type:m.END_POSITION})}var x=Object(l.d)("graph"),D=x.event(),C=x.event(),P=x.event(),L=x.event(),N=x.event(),G=x.event(),B=x.store([0,110]),V=x.store([]);x.onCreateStore(function(t){return t.reset(D)}),V.on(P,function(t,e){return t.includes(e)?t:[].concat(Object(j.a)(t),[e])}).on(L,function(t,e){return t.filter(function(t){return t!==e})}),B.on(N,function(t,e){return[e,t[1]]}).on(G,function(t,e){return[t[0],e]});var _=Object(l.b)({barrier:V,startEndPosition:B}).map(function(t){var e=Object(s.a)(t.startEndPosition,2),n=e[0],r=e[1],i=A.createGraph();return I(i,t.barrier),M(i,n),R(i,r),Object(k.a)({},t,{graph:i.graph})}),F=n(7),U=function(t){return t.type!==m.BARIER};function $(t,e,n){for(var r=[],i=n[t];i&&i!==e;)r.unshift(i),i=n[i];return r.length>0&&r.push(t),r.unshift(e),r}function Y(){var t=[];return function(e){var n=e.filter(function(e){return!t.includes(e)});return t.push.apply(t,Object(j.a)(n)),n}}function q(t,e,n){for(var r=at(),i=Y(),o=Y(),a=0,u=!0,c=[t],s=[t],l={};u&&c.length>0;){var f=c.shift();r.setVertex({data:o(s),name:"visited"});for(var h=0;h<n[f].siblings.length;h++){var d=n[f].siblings[h],v=A.getVertexByIndex(d);if(!s.includes(d)&&U(v)&&(c.push(d),s.push(d),l[d]=f,a++),d===e){u=!1;break}}r.setVertex({data:i(c),name:"queue"})}return r.setDrowAnimated(a),$(e,t,l)}function W(t,e,n){for(var r=at(),i=Y(),o=Y(),a=0,u=!0,c=[t],s=[t],l={};u&&c.length>0;){var f=c.shift();r.setVertex({data:o(s),name:"visited"});for(var h=0;h<n[f].siblings.length;h++){var d=n[f].siblings[h],v=A.getVertexByIndex(d);if(!s.includes(d)&&U(v)&&(c.unshift(d),s.push(d),l[d]=f,a++),d===e){u=!1;break}}r.setVertex({data:i(c),name:"queue"})}return r.setDrowAnimated(a),$(e,t,l)}var X=Object(l.d)(),J=Object(l.e)(),H=Object(l.e)(),z=Object(l.e)(),K=Object(l.e)(),Q=Object(l.e)(),Z=X.store(0).on(Q,function(t,e){return e}),tt=X.store(!1).on(K,function(){return!0}),et=Object(l.l)(J,"bredth first search"),nt=X.store({queue:[],visited:[]}).on(z,function(t,e){var n=e.data,r=e.name;return Object(k.a)({},t,Object(F.a)({},r,[].concat(Object(j.a)(t[r]),[n])))}),rt=X.store(0).on(H,function(t){return t+1}),it=Object(l.f)([{searchFunction:q,name:"bredth first search"},{searchFunction:W,name:"depth first search"}]),ot=Object(l.b)(et,it,function(t,e){return e.find(function(e){return e.name===t})}),at=function(){return{setDrowAnimated:function(t){K(),Q(t)},setVertex:function(t){z(t),H()}}};X.onCreateStore(function(t){return t.reset(C,D)}),J.watch(function(){return st(ut.END_GAME)});var ut={START:"START",RESTART:"RESTART",PAUSE:"PAUSE",RESUME:"RESUME",CLEAR:"CLEAR",END_GAME:"END_GAME"},ct=Object(l.d)("game"),st=ct.event(),lt=ct.store([]).reset(D,C),ft=Object(l.l)(st,ut.END_GAME).reset(D),ht=Object(l.h)({source:ft,filter:ft.map(function(t){return t===ut.START})});Object(l.h)({source:ft,filter:ft.map(function(t){return t===ut.CLEAR}),target:D});var dt=Object(l.h)({source:ft,filter:ft.map(function(t){return t===ut.END_GAME})});function vt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.some(function(e){return t===e})}Object(l.m)({source:{graph:_,algoritm:ot},clock:ht,target:lt,fn:function(t){var e=t.graph,n=t.algoritm,r=Object(s.a)(e.startEndPosition,2),i=r[0],o=r[1];return C(),n.searchFunction(i,o,e.graph)}});var gt=new(function(){function t(){Object(y.a)(this,t),this.isMouseDown=!1,this.isMouseMove=!1,this.listeners=[],this.state={},this.lastIndex=null,this.disabledListeners=[]}return Object(T.a)(t,[{key:"init",value:function(){var t=this;return ft.watch(function(e){vt(e,ut.START,ut.PAUSE,ut.RESUME)?t.disabledListener():t.includeListener()}),this}},{key:"registerClickEventToCanvas",value:function(t){var e=this;t.addEventListener("mousedown",function(t){e.listeners.filter(function(t){return"mousedown"===t.type}).forEach(function(t){return t.eventListener()}),e.isMouseDown=!0,e.isMouseMove=!1}),t.addEventListener("mouseup",function(t){e.isMouseDown=!1,e.listeners.filter(function(t){return"mouseup"===t.type}).forEach(function(n){return n.eventListener(t,e.state)})}),t.addEventListener("click",function(t){e.listeners.filter(function(t){return"click"===t.type}).forEach(function(n){e.isMouseMove||n.eventListener(t,e.state)})}),t.addEventListener("mousemove",function(t){var n=function(t){var e=b(t.clientX,t.clientY);return S([e.w,e.h])}(t);e.isMouseDown&&n!==e.lastIndex&&(e.lastIndex=n,e.isMouseMove=!0,e.listeners.filter(function(t){return"mousemove"===t.type}).forEach(function(n){return n.eventListener(t,e.state,e.lastIndex)}))})}},{key:"disabledListener",value:function(){this.clear()}},{key:"includeListener",value:function(){this.listeners=this.disabledListeners}},{key:"addMouseDownEvent",value:function(t){this.listeners.push({type:"mousedown",eventListener:t})}},{key:"addMouseUpEvent",value:function(t){this.listeners.push({type:"mouseup",eventListener:t})}},{key:"addMouseMoveEvent",value:function(t){this.listeners.push({type:"mousemove",eventListener:t})}},{key:"addMouseClickEvent",value:function(t){this.listeners.push({type:"click",eventListener:t})}},{key:"setState",value:function(t){return this.state=t,this}},{key:"clear",value:function(){this.listeners.length>0&&(this.disabledListeners=this.listeners,this.isMouseDown=!1,this.isMouseMove=!1,this.listeners=[],this.lastIndex=null)}}]),t}());gt.init();var mt=new(function(){function t(){Object(y.a)(this,t),this.count=1,this.animateId=null}return Object(T.a)(t,[{key:"start",value:function(t,e){var n=this,r=t.traversedVertexes,i=t.vertexesCount,o=ft.getState();(clearTimeout(this.animateId),o!==ut.END_GAME)&&(o!==ut.PAUSE?this.count<r.visited.length?(pt(r.visited[this.count],e,"#afeeee"),this.count<r.visited.length-1&&pt(r.queue[this.count],e,"rgb(152, 251, 152)"),this.animateId=setInterval(function(){return n.start({traversedVertexes:r,vertexesCount:i},e)},50),C.watch(function(){return clearTimeout(n.animateId)}),this.count++):(st(ut.END_GAME),this.clear(),function(t){for(var e=t.context,n=t.path,r=void 0===n?[]:n,i=t.color,o=void 0===i?"green":i,a=0;a<r.length;a++){var u=w(r[a]),c=E(u),l=Object(s.a)(c,2),h=l[0],d=l[1];wt&&(e.beginPath(),e.strokeStyle=o,e.lineWidth=2,e.moveTo(wt[0],wt[1]),e.lineTo(h+f/2,d+f/2),e.stroke()),wt=[h+f/2,d+f/2]}wt=null}({path:lt.getState(),context:e})):cancelAnimationFrame(this.animateId))}},{key:"clear",value:function(){this.count=1,this.animateId=null}},{key:"removeAnimation",value:function(){cancelAnimationFrame(this.animateId)}}]),t}()),bt=Object(l.b)({canDrowAnimated:tt,traversedVertexes:nt,vertexesCount:rt,gameState:ft});function pt(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.blockColor,r=0;r<t.length;r++){var i=w(t[r]),o=Object(s.a)(i,2);O({position:[o[0],o[1]],context:e,color:n})}}function Et(t,e){var n=b(t.clientX,t.clientY),r=S([n.w,n.h]),i=Object(s.a)(e.startEndPosition,2),o=i[0],a=i[1];return{renderForMove:function(){r!==o&&r!==a&&P(r)},renderForClick:function(){r!==o&&r!==a&&L(r)}}}var Ot=null;function St(t){var e=b(t.clientX,t.clientY),n=S([e.w,e.h]),r=_.getState();switch(Ot||(Ot=r.graph[n].type),Ot){case m.BARIER:return Et(t,r).renderForClick();case m.START_POSITION:return function(t,e){var n=e.barrier.includes(t),r=Object(s.a)(e.startEndPosition,2)[1];n||t===r||N(t)}(n,r);case m.END_POSITION:return function(t,e,n){var r=e.barrier.includes(t),i=Object(s.a)(e.startEndPosition,1)[0];r||t===i||G(t)}(n,r);case m.EMPTY:return Et(t,r).renderForMove()}}var wt=null;var yt=document.getElementById("viewport");if(yt){var Tt=yt.getContext("2d");!function(t,e){var n=b(h,d),r=p(n.w,n.h),i=function(t){for(var e=new Path2D,n=b(h,d),r=p(n.w,n.h),i=0;i<=n.w;i++)e.moveTo(i*f+v,0),e.lineTo(i*f+v,r.h);for(var o=0;o<=n.h;o++)e.moveTo(0,o*f+v),e.lineTo(r.w,o*f+v);return{grid:e,applyStyles:function(){t.lineWidth=v,t.strokeStyle=g.borderColor}}}(e);function o(n){!function(t,e){t.clearRect(0,0,e.width,e.height)}(e,t),gt.setState(n),function(t,e){for(var n=0;n<t.length;n++)O({position:w(t[n]),context:e,color:g.startEndColor[n]})}(n.startEndPosition,e),pt(n.barrier,e),i.applyStyles(),e.stroke(i.grid)}!function(t,e){var n=e.w,r=e.h;t.height=r,t.width=n}(t,r),gt.registerClickEventToCanvas(t),gt.addMouseMoveEvent(function(t,e){return St(t)}),gt.addMouseUpEvent(function(){return Ot=null}),gt.addMouseClickEvent(function(t,e){return Et(t,e).renderForClick()}),_.watch(o),Object(l.m)({source:_,clock:Object(l.k)([D,C])}).watch(o),bt.watch(function(t){var n=t.canDrowAnimated,r=t.gameState,i=Object(c.a)(t,["canDrowAnimated","gameState"]);n&&(r===ut.START&&mt.clear(),mt.removeAnimation(),mt.start(i,e))})}(yt,Tt)}n(23);var kt=Object(l.f)({});function At(){var t,e=Object(u.a)(it),n=Object(u.a)(et),r=Object(u.a)(ft),o=Object(u.a)(kt);return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"select-bar"},i.a.createElement("h2",{className:"select-bar_title"},"Select algoritm"),i.a.createElement("h3",{className:"select-bar_title"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0439: ",(null===o||void 0===o?void 0:o.numberOfIterations)||0),i.a.createElement("h3",{className:"select-bar_title"},"\u0414\u043b\u0438\u043d\u0430 \u043f\u0443\u0442\u0438: ",(null===o||void 0===o?void 0:null===(t=o.path)||void 0===t?void 0:t.length)||0),i.a.createElement("ul",null,e.map(function(t,e){return i.a.createElement("li",{onClick:function(){return J(t.name)},className:n===t.name?"isActive":"",key:t.name},t.name)})),i.a.createElement("div",{className:"btn-wrapper"},i.a.createElement("button",{className:"btn",onClick:function(){return st(ut.START)}},"start"),vt(r,ut.START,ut.PAUSE,ut.RESUME)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"btn",onClick:function(){return st(ut.PAUSE)}},"pause"),i.a.createElement("button",{className:"btn",onClick:function(){return st(ut.RESUME)}},"resume")),i.a.createElement("button",{className:"btn",onClick:function(){return st(ut.CLEAR)}},"clear"))))}Object(l.m)({source:{numberOfIterations:Z,path:lt},clock:dt,target:kt}),n.d(e,"selectAlgoritm",function(){return J}),n.d(e,"incrementVertex",function(){return H}),n.d(e,"setVertex",function(){return z}),n.d(e,"setDrowAnimated",function(){return K}),n.d(e,"increment",function(){return Q}),n.d(e,"$numberOfIterations",function(){return Z}),n.d(e,"$canDrowAnimated",function(){return tt}),n.d(e,"$currentAlgoritm",function(){return et}),n.d(e,"$traversedVertexes",function(){return nt}),n.d(e,"$vertexesCount",function(){return rt}),n.d(e,"$algoritms",function(){return it}),n.d(e,"$searchAlgoritm",function(){return ot}),n.d(e,"createLogger",function(){return at}),n.d(e,"canVisitedVertex",function(){return U}),n.d(e,"restorePath",function(){return $}),n.d(e,"removeDoubleVertex",function(){return Y}),n.d(e,"breadthFirstSearch",function(){return q}),n.d(e,"depthFirstSearch",function(){return W}),n.d(e,"graphControll",function(){return A}),n.d(e,"resetStore",function(){return D}),n.d(e,"clearCanvas",function(){return C}),n.d(e,"setBarrier",function(){return P}),n.d(e,"removeBarrierItem",function(){return L}),n.d(e,"triggerStartPosition",function(){return N}),n.d(e,"triggerEndPosition",function(){return G}),n.d(e,"$startEndPosition",function(){return B}),n.d(e,"$barrier",function(){return V}),n.d(e,"$graph",function(){return _}),n.d(e,"setBarrierToGraph",function(){return I}),n.d(e,"setStartPositionToGraph",function(){return M}),n.d(e,"setEndPositionToGraph",function(){return R}),n.d(e,"gameStatus",function(){return ut}),n.d(e,"setGameStatus",function(){return st}),n.d(e,"$path",function(){return lt}),n.d(e,"$gameState",function(){return ft}),n.d(e,"startGame",function(){return ht}),n.d(e,"endGame",function(){return dt});var jt=document.getElementById("root");a.a.render(i.a.createElement(At,null),jt)}},[[16,1,2]]]);
//# sourceMappingURL=main.76a8fb5d.chunk.js.map