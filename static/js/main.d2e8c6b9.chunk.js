(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(t,e,n){t.exports=n(24)},23:function(t,e,n){},24:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o=n(12),a=n.n(o),u=n(7),c=n(14),s=n.n(c),l=n(2),f=n(1),h=35,d=window.innerWidth,v=window.innerHeight,g=.5,m={borderColor:"#000",blockColor:"#bbbbbb",startEndColor:["green","red"]},p={START_POSITION:"START_POSITION",END_POSITION:"END_POSITION",BARIER:"BARIER",EMPTY:"EMPTY",VISITED:"VISITED"};function b(t,e){return{w:Math.floor(t/h),h:Math.floor(e/h)}}function E(t,e){return{w:Math.floor(t*h),h:Math.floor(e*h)}}function w(t){var e=Object(l.a)(t,2),n=e[0],r=e[1];return[n*h,r*h]}function O(t){var e=t.color,n=void 0===e?"rgb(152, 251, 152)":e,r=t.position,i=t.context,o=t.width,a=w(r),u=Object(l.a)(a,2),c=u[0],s=u[1],f=o||h-2*g;i.fillStyle=n,i.fillRect(c+2*g,s+2*g,f,f)}function k(t){var e=Object(l.a)(t,2),n=e[0];return e[1]*b(d,v).w+n}function T(t){var e=b(d,v).w,n=Math.floor(t/e);return[t-n*e,n]}var y=n(4),S=n(5),j=n(3);function A(t){var e,n=Object(l.a)(t.position,2),r=n[0],i=n[1],o=t.width,a=t.scale,u=void 0===a?.3:a;o<h?(e=requestAnimationFrame(function(){return A(Object(j.a)({},t,{width:o,scale:u}))}),O(Object(j.a)({},t,{position:[r+u,i+u]})),u>0&&o%5===0&&(u-=.1),o++):cancelAnimationFrame(e)}function I(t){var e,n=t.width,r=void 0===n?h-10:n;r<h?(e=requestAnimationFrame(function(){return I(Object(j.a)({},t,{width:r}))}),function(t){var e=t.color,n=void 0===e?"#e84a4a":e,r=t.position,i=t.context,o=w(r),a=Object(l.a)(o,2),u=a[0],c=a[1];i.strokeStyle=n,i.beginPath(),i.moveTo(u+10,c+10),i.lineTo(u+h-10,c+h-10),i.stroke(),i.beginPath(),i.moveTo(u+h-10,c+10),i.lineTo(u+10,c+h-10),i.stroke()}(Object(j.a)({},t,{width:r})),r++):(O(Object(j.a)({},t,{color:"#fff",width:0})),cancelAnimationFrame(e))}var M=function(){function t(e){Object(y.a)(this,t),this.index=e,this.canDrawe=!1,this.context=null,this.canRemove=!1,this.position=!1}return Object(S.a)(t,[{key:"getBarier",value:function(){return this}},{key:"getIndex",value:function(){return this.index}},{key:"render",value:function(t){this.context=t,this.position=T(this.index),this.canRemove||(this.canDrawe?O({position:this.position,context:t,color:m.blockColor}):A({position:this.position,context:t,color:m.blockColor,width:20}),this.canDrawe=!0)}},{key:"remove",value:function(){this.canRemove=!0,I({position:this.position,context:this.context})}}]),t}(),R=new(function(){function t(e){var n=e.w,r=e.h;Object(y.a)(this,t),this.graph={},this.cellCount=n*r,this.lastIndex=null}return Object(S.a)(t,[{key:"createGraph",value:function(){this.clear();for(var t=0;t<this.cellCount;t++)this.graph[t]={type:p.EMPTY,siblings:this.getSiblings(t).filter(function(t){return"undefined"!==typeof t})};return this}},{key:"getVertexByIndex",value:function(t){return this.graph[t]}},{key:"updateGraph",value:function(t){var e=t.index,n=t.type;this.graph[e]&&(this.graph[e]=Object(j.a)({},this.graph[e],{type:n}),n===p.BARIER&&(this.graph[e]=Object(j.a)({},this.graph[e],{type:n,siblings:[]})))}},{key:"getSiblings",value:function(t){var e=this.getLeftSibling(t),n=this.getTopSibling(t),r=this.getRightSibling(t),i=this.getDownSibling(t);return[e,this.getTopLeftDiagonal(n,e),n,this.getTopRightDiagonal(n,r),r,this.getBotRightDiagonal(i,r),i,this.getBotLeftDiagonal(i,e)]}},{key:"getTopLeftDiagonal",value:function(t,e){if(t>=0&&e>=0)return t-1}},{key:"getTopRightDiagonal",value:function(t,e){if(t>=0&&e>=0)return t+1}},{key:"getBotLeftDiagonal",value:function(t,e){if(t>=0&&e>=0)return t-1}},{key:"getBotRightDiagonal",value:function(t,e){if(t>=0&&e)return t+1}},{key:"getBottomDiagonal",value:function(t){return[t-1,t+1]}},{key:"getDownSibling",value:function(t){var e=b(d,v),n=e.w,r=e.h;if(Math.floor(t/n)<r-1)return t+n}},{key:"getTopSibling",value:function(t){var e=b(d,v).w;if(Math.floor(t/e)>0)return t-e}},{key:"getRightSibling",value:function(t){var e=b(d,v).w;if(t%e<e-1)return t+1}},{key:"getLeftSibling",value:function(t){if(t%b(d,v).w>0)return t-1}},{key:"getGraph",value:function(){return this.graph}},{key:"clear",value:function(){return this.graph={},this}}]),t}())(b(d,v)),x=n(6);function P(t,e){e.forEach(function(e){t.updateGraph({index:e.getIndex(),type:p.BARIER})})}function D(t,e){t.updateGraph({index:e,type:p.START_POSITION})}function N(t,e){t.updateGraph({index:e,type:p.END_POSITION})}var C=Object(f.d)("graph"),L=C.event(),B=C.event(),G=C.event(),_=C.event(),F=C.event(),U=C.event(),V=C.store([0,110]),$=C.store([]);C.onCreateStore(function(t){return t.reset(L)});var Y=Object(f.h)({source:Object(f.m)({source:$,clock:_,fn:function(t,e){return t.find(function(t){return t.getIndex()===e})}}),filter:Boolean});Y.watch(function(t){return t.remove()}),$.on(G,function(t,e){var n=new M(e);return t.find(function(t){return t.getIndex()===e})?t:[].concat(Object(x.a)(t),[n])}).on(Y,function(t,e){return t.filter(function(t){return t!==e})}),V.on(F,function(t,e){return[e,t[1]]}).on(U,function(t,e){return[t[0],e]});var W=Object(f.b)({barrier:$,startEndPosition:V}).map(function(t){var e=Object(l.a)(t.startEndPosition,2),n=e[0],r=e[1],i=R.createGraph();return P(i,t.barrier),D(i,n),N(i,r),Object(j.a)({},t,{graph:i.graph})}),q=function(t){return t.type!==p.BARIER};function X(t,e,n){for(var r=[],i=n[t];i&&i!==e;)r.unshift(i),i=n[i];return r.length>0&&r.push(t),r.unshift(e),r}function J(t){return t.reduce(function(t,e){return t.push(e.filter(function(e){return!t.some(function(t){return t.includes(e)})})),t},[])}var H=function(){function t(){Object(y.a)(this,t),this.count=0,this.processing=[],this.visited=[]}return Object(S.a)(t,[{key:"increment",value:function(){this.count++}},{key:"addToProcessing",value:function(t){this.processing.push(Object(x.a)(t))}},{key:"addToVisited",value:function(t){this.visited.push(Object(x.a)(t))}},{key:"getAlgotitmResult",value:function(){return this}}]),t}();function z(t,e,n){for(var r=new H,i=!0,o=[t],a=[t],u={};i&&o.length>0;){var c=o.shift();r.addToVisited(a);for(var s=0;s<n[c].siblings.length;s++){var l=n[c].siblings[s],f=R.getVertexByIndex(l);if(!a.includes(l)&&q(f)&&(o.push(l),a.push(l),u[l]=c,r.increment()),l===e){i=!1;break}}r.addToProcessing(o)}var h=r.getAlgotitmResult(),d=X(e,t,u);return Object(j.a)({path:d},h)}function K(t,e,n){for(var r=new H,i=!0,o=[t],a=[t],u={};i&&o.length>0;){var c=o.shift();r.addToVisited(a);for(var s=0;s<n[c].siblings.length;s++){var l=n[c].siblings[s],f=R.getVertexByIndex(l);if(!a.includes(l)&&q(f)&&(o.unshift(l),a.push(l),u[l]=c,r.increment()),l===e){i=!1;break}}r.addToProcessing(o)}var h=r.getAlgotitmResult(),d=X(e,t,u);return Object(j.a)({path:d},h)}var Q=Object(f.d)(),Z=Object(f.e)(),tt=Object(f.l)(Z,"bredth first search"),et=Object(f.f)([{searchFunction:z,name:"bredth first search"},{searchFunction:K,name:"depth first search"}]),nt=Object(f.b)(tt,et,function(t,e){return e.find(function(e){return e.name===t})});Q.onCreateStore(function(t){return t.reset(B,L)}),Z.watch(function(){return ot(rt.END_GAME)});var rt={START:"START",RESTART:"RESTART",PAUSE:"PAUSE",RESUME:"RESUME",CLEAR:"CLEAR",END_GAME:"END_GAME"},it=Object(f.d)("game"),ot=it.event(),at=it.event(),ut=it.store({}).reset(L,B),ct=Object(f.l)(at,16).reset(L),st=Object(f.l)(ot,rt.END_GAME).reset(L),lt=Object(f.h)({source:st,filter:st.map(function(t){return t===rt.START})});Object(f.h)({source:st,filter:st.map(function(t){return t===rt.CLEAR}),target:L});var ft=Object(f.h)({source:st,filter:st.map(function(t){return t===rt.END_GAME})});function ht(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.some(function(e){return t===e})}function dt(t,e,n){for(var r=0;r<t.length;r++){var i=T(t[r]),o=Object(l.a)(i,2);O({position:[o[0],o[1]],context:e,color:n})}}Object(f.m)({source:{graph:W,algoritm:nt},clock:lt,target:ut,fn:function(t){var e=t.graph,n=t.algoritm,r=Object(l.a)(e.startEndPosition,2),i=r[0],o=r[1];B();var a=window.performance.now(),u=n.searchFunction(i,o,e.graph),c=window.performance.now()-a;return Object(j.a)({},u,{visited:J(u.visited),processing:J(u.processing),timeEnd:c})}});var vt=function(){function t(){Object(y.a)(this,t),this.count=1,this.animateId=null}return Object(S.a)(t,[{key:"start",value:function(t,e){var n=this,r=t.visited,i=t.processing,o=st.getState(),a=ct.getState();(clearTimeout(this.animateId),o!==rt.END_GAME)&&(o!==rt.PAUSE?this.count<r.length?(dt(r[this.count],e,"#afeeee"),this.count<r.length-1&&dt(i[this.count],e,"rgb(152, 251, 152)"),this.animateId=setInterval(function(){return n.start({visited:r,processing:i},e)},this.getFps(a)),B.watch(function(){return clearTimeout(n.animateId)}),this.count++):(ot(rt.END_GAME),this.clear(),function(t){for(var e=t.context,n=t.path,r=void 0===n?[]:n,i=t.color,o=void 0===i?"green":i,a=0;a<r.length;a++){var u=T(r[a]),c=w(u),s=Object(l.a)(c,2),f=s[0],d=s[1];Ot&&(e.beginPath(),e.strokeStyle=o,e.lineWidth=2,e.moveTo(Ot[0],Ot[1]),e.lineTo(f+h/2,d+h/2),e.stroke()),Ot=[f+h/2,d+h/2]}Ot=null}({path:ut.getState().path,context:e})):clearTimeout(this.animateId))}},{key:"getFps",value:function(t){return 1e3/(1===t?t:10*t)}},{key:"clear",value:function(){this.count=1,this.animateId=null}},{key:"removeAnimation",value:function(){clearTimeout(this.animateId)}}]),t}(),gt=new vt,mt=new(function(){function t(){Object(y.a)(this,t),this.isMouseDown=!1,this.isMouseMove=!1,this.listeners=[],this.state={},this.lastIndex=null,this.disabledListeners=[]}return Object(S.a)(t,[{key:"init",value:function(){var t=this;return st.watch(function(e){ht(e,rt.START,rt.PAUSE,rt.RESUME)?t.disabledListener():t.includeListener()}),this}},{key:"registerClickEventToCanvas",value:function(t){var e=this;t.addEventListener("mousedown",function(t){e.listeners.filter(function(t){return"mousedown"===t.type}).forEach(function(t){return t.eventListener()}),e.isMouseDown=!0,e.isMouseMove=!1}),t.addEventListener("mouseup",function(t){e.isMouseDown=!1,e.listeners.filter(function(t){return"mouseup"===t.type}).forEach(function(n){return n.eventListener(t,e.state)})}),t.addEventListener("click",function(t){e.listeners.filter(function(t){return"click"===t.type}).forEach(function(n){e.isMouseMove||n.eventListener(t,e.state)})}),t.addEventListener("mousemove",function(t){var n=function(t){var e=b(t.clientX,t.clientY);return k([e.w,e.h])}(t);e.isMouseDown&&n!==e.lastIndex&&(e.lastIndex=n,e.isMouseMove=!0,e.listeners.filter(function(t){return"mousemove"===t.type}).forEach(function(n){return n.eventListener(t,e.state,e.lastIndex)}))})}},{key:"disabledListener",value:function(){this.clear()}},{key:"includeListener",value:function(){this.listeners=this.disabledListeners}},{key:"addMouseDownEvent",value:function(t){this.listeners.push({type:"mousedown",eventListener:t})}},{key:"addMouseUpEvent",value:function(t){this.listeners.push({type:"mouseup",eventListener:t})}},{key:"addMouseMoveEvent",value:function(t){this.listeners.push({type:"mousemove",eventListener:t})}},{key:"addMouseClickEvent",value:function(t){this.listeners.push({type:"click",eventListener:t})}},{key:"setState",value:function(t){return this.state=t,this}},{key:"clear",value:function(){this.listeners.length>0&&(this.disabledListeners=this.listeners,this.isMouseDown=!1,this.isMouseMove=!1,this.listeners=[],this.lastIndex=null)}}]),t}());mt.init();var pt=Object(f.b)({gameState:st,path:ut});function bt(t,e){var n=b(t.clientX,t.clientY),r=k([n.w,n.h]),i=Object(l.a)(e.startEndPosition,2),o=i[0],a=i[1];return{renderForMove:function(){r!==o&&r!==a&&G(r)},renderForClick:function(){r!==o&&r!==a&&_(r)}}}var Et=null;function wt(t){var e=b(t.clientX,t.clientY),n=k([e.w,e.h]),r=W.getState();switch(Et||(Et=r.graph[n].type),Et){case p.BARIER:return bt(t,r).renderForClick();case p.START_POSITION:return function(t,e){var n=e.barrier.find(function(e){return e.index===t}),r=Object(l.a)(e.startEndPosition,2)[1];n||t===r||F(t)}(n,r);case p.END_POSITION:return function(t,e){var n=e.barrier.find(function(e){return e.index===t}),r=Object(l.a)(e.startEndPosition,1)[0];n||t===r||U(t)}(n,r);case p.EMPTY:return bt(t,r).renderForMove()}}var Ot=null;var kt=document.getElementById("viewport");if(kt){var Tt=kt.getContext("2d");!function(t,e){var n=b(d,v),r=E(n.w,n.h),i=function(t){for(var e=new Path2D,n=b(d,v),r=E(n.w,n.h),i=0;i<=n.w;i++)e.moveTo(i*h+g,0),e.lineTo(i*h+g,r.h);for(var o=0;o<=n.h;o++)e.moveTo(0,o*h+g),e.lineTo(r.w,o*h+g);return{grid:e,applyStyles:function(){t.lineWidth=g,t.strokeStyle=m.borderColor}}}(e);function o(n){!function(t,e){t.clearRect(0,0,e.width,e.height)}(e,t),mt.setState(n),function(t,e){for(var n=0;n<t.length;n++)O({position:T(t[n]),context:e,color:m.startEndColor[n]})}(n.startEndPosition,e),function(t,e){for(var n=0;n<t.length;n++)t[n].render(e)}(n.barrier,e),i.applyStyles(),e.stroke(i.grid)}!function(t,e){var n=e.w,r=e.h;t.height=r,t.width=n}(t,r),mt.registerClickEventToCanvas(t),mt.addMouseMoveEvent(function(t,e){return wt(t)}),mt.addMouseUpEvent(function(){return Et=null}),mt.addMouseClickEvent(function(t,e){return bt(t,e).renderForClick()}),W.watch(o),Object(f.m)({source:W,clock:Object(f.k)([L,B])}).watch(o),pt.watch(function(t){t.canDrowAnimated;var n=t.gameState,r=t.path;r.timeEnd&&(n===rt.START&&gt.clear(),gt.removeAnimation(),gt.start(r,e))})}(kt,Tt)}n(23);var yt=Object(f.f)({});function St(){var t,e,n=Object(u.a)(et),r=Object(u.a)(tt),o=Object(u.a)(st),a=Object(u.a)(yt),c=Object(u.a)(ct);return i.a.createElement("div",{className:"App"},i.a.createElement(s.a,null,i.a.createElement("div",{className:"select-bar"},i.a.createElement("h2",{className:"select-bar_title"},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),i.a.createElement("div",{className:"info-wrapper"},i.a.createElement("h3",{className:"select-bar_info"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0439: ",i.a.createElement("span",null,(null===a||void 0===a?void 0:a.count)||0)),i.a.createElement("h3",{className:"select-bar_info"},"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f:",i.a.createElement("span",null," ",(null===a||void 0===a?void 0:null===(t=a.timeEnd)||void 0===t?void 0:t.toFixed(4))||0," ms")),i.a.createElement("h3",{className:"select-bar_info"},"\u0414\u043b\u0438\u043d\u0430 \u043f\u0443\u0442\u0438: ",i.a.createElement("span",null,(null===a||void 0===a?void 0:null===(e=a.path)||void 0===e?void 0:e.length)||0))),i.a.createElement("h2",{className:"select-bar_title"},"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c:"),i.a.createElement("ul",null,n.map(function(t,e){return i.a.createElement("li",{onClick:function(){return Z(t.name)},className:r===t.name?"isActive":"",key:t.name},t.name)})),i.a.createElement("div",{className:"btn-wrapper"},i.a.createElement("button",{className:"btn",onClick:function(){return ot(rt.START)}},"\u0421\u0442\u0430\u0440\u0442"),ht(o,rt.START,rt.PAUSE,rt.RESUME)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"btn",onClick:function(){return ot(rt.PAUSE)}},"\u041f\u0430\u0443\u0437\u0430"),i.a.createElement("button",{className:"btn",onClick:function(){return ot(rt.RESUME)}},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")),i.a.createElement("button",{className:"btn",onClick:function(){return ot(rt.CLEAR)}},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c")),i.a.createElement("div",{className:"info-wrapper"},i.a.createElement("h3",{className:"select-bar_info"},"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: ",i.a.createElement("span",null,c)),i.a.createElement("input",{type:"number",value:c,max:"20",min:"1",maxLength:"2",onChange:function(t){var e=t.target;at(parseInt(e.value))}})))))}Object(f.m)({source:ut,clock:ft,target:yt}),n.d(e,"selectAlgoritm",function(){return Z}),n.d(e,"$currentAlgoritm",function(){return tt}),n.d(e,"$algoritms",function(){return et}),n.d(e,"$searchAlgoritm",function(){return nt}),n.d(e,"canVisitedVertex",function(){return q}),n.d(e,"restorePath",function(){return X}),n.d(e,"removeDoubleVertex",function(){return J}),n.d(e,"breadthFirstSearch",function(){return z}),n.d(e,"depthFirstSearch",function(){return K}),n.d(e,"graphControll",function(){return R}),n.d(e,"resetStore",function(){return L}),n.d(e,"clearCanvas",function(){return B}),n.d(e,"setBarrier",function(){return G}),n.d(e,"removeBarrierItem",function(){return _}),n.d(e,"triggerStartPosition",function(){return F}),n.d(e,"triggerEndPosition",function(){return U}),n.d(e,"$startEndPosition",function(){return V}),n.d(e,"$barriers",function(){return $}),n.d(e,"removedBarrier",function(){return Y}),n.d(e,"$graph",function(){return W}),n.d(e,"setBarrierToGraph",function(){return P}),n.d(e,"setStartPositionToGraph",function(){return D}),n.d(e,"setEndPositionToGraph",function(){return N}),n.d(e,"drawSquareWithAnimation",function(){return A}),n.d(e,"drawMarkerWithAnimation",function(){return I}),n.d(e,"Barier",function(){return M}),n.d(e,"GameLoop",function(){return vt}),n.d(e,"gameLoop",function(){return gt}),n.d(e,"gameStatus",function(){return rt}),n.d(e,"setGameStatus",function(){return ot}),n.d(e,"setTimer",function(){return at}),n.d(e,"$path",function(){return ut}),n.d(e,"$currentTimer",function(){return ct}),n.d(e,"$gameState",function(){return st}),n.d(e,"startGame",function(){return lt}),n.d(e,"endGame",function(){return ft}),n.d(e,"checkGameStatus",function(){return ht}),n.d(e,"renderVisitedVertex",function(){return dt});var jt=document.getElementById("root");a.a.render(i.a.createElement(St,null),jt)}},[[16,1,2]]]);
//# sourceMappingURL=main.d2e8c6b9.chunk.js.map