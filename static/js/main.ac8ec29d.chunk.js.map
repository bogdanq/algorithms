{"version":3,"sources":["config.ts","graph/controller.ts","graph/utils.ts","graph/animations.ts","graph/barrier.ts","graph/model.ts","game/utils.ts","algoritms/controller.ts","algoritms/utils.ts","algoritms/a-start/a-start.ts","algoritms/model.ts","algoritms/bred-first-search.ts","algoritms/depth-first-search.ts","algoritms/dijkstra/dijkstra.ts","game/model.ts","render/render-barrier-with-type.ts","render/render.ts","render/drow-start-end-position.ts","render/render-path.ts","game/animated-vertex.ts","game/loop.ts","control-canvas.ts","canvas.ts","render/build-grid.ts","config-canvas.ts","gui/ui/molecules/modal-wrapper.tsx","gui/ui/atoms/icon.tsx","gui/ui/atoms/text.tsx","gui/ui/atoms/default-button.tsx","gui/lib/styled-components-layout.ts","gui/ui/templates/flex-wrapper.ts","gui/ui/atoms/default-switch.tsx","gui/ui/molecules/settings.tsx","gui/ui/molecules/info.tsx","gui/ui/molecules/about-algoritms.tsx","gui/ui/molecules/select.tsx","gui/ui/molecules/algoritm-list.tsx","gui/ui/organisms/info-block.tsx","gui/ui/organisms/game-controll-buttons.tsx","gui/ui/organisms/algoritm-result.tsx","gui/ui/organisms/code-area/code-string.ts","gui/ui/organisms/code-area/model.ts","gui/ui/organisms/code-area/code-area.tsx","gui/ui/organisms/code-area/modal.tsx","gui/ui/organisms/algoritms.tsx","gui/ui/organisms/right-side-bar.tsx","App.jsx","global-css.ts","index.tsx"],"names":["cellSize","pageWidth","window","innerWidth","pageHeight","innerHeight","borderSize","colorSchema","borderColor","blockColor","startEndColor","BarrierType","getLocalSize","w","h","Math","floor","getGlobalSize","convertLocalPositionToGlobal","x","y","drawSquare","color","position","context","width","_convertLocalPosition","_convertLocalPosition2","Object","slicedToArray","size","fillStyle","fillRect","getIndexByPosition","getPositionByIndex","index","graphControll","constructor","this","graph","cellCount","createGraph","canMoveDiagonal","clear","type","EMPTY","siblings","getSiblings","filter","Boolean","map","item","vertex","getVertexByIndex","updateGraph","_ref","newParams","objectWithoutProperties","objectSpread2","left","getLeftSibling","top","getTopSibling","right","getRightSibling","down","getDownSibling","getTopLeftDiagonal","getTopRightDiagonal","getBotRightDiagonal","getBotLeftDiagonal","bot","getBottomDiagonal","_getLocalSize","getGraph","removeBarrierFromState","event","_getLocalSize2","clientX","clientY","removeBarrierItem","drawMarkerWithAnimation","params","animateId","_params$width","requestAnimationFrame","_convertLocalPosition3","_convertLocalPosition4","strokeStyle","beginPath","moveTo","lineTo","stroke","drawMark","cancelAnimationFrame","BarrierItem","barrierType","canDrawe","canRemove","getBarier","getIndex","render","drawSquareWithAnimation","_params$position","_params$scale","scale","remove","graphDomain","createDomain","resetStore","clearCanvas","changeDirection","setBarrierType","setBarrier","triggerStartPosition","triggerEndPosition","$startEndPosition","store","$canMoveDiagonal","$barrierType","restore","BARIER","$barriers","on","state","onCreateStore","reset","removedBarrier","guard","source","sample","clock","fn","find","barrier","watch","removed","$graph","combine","startEndPosition","_state$startEndPositi","start","end","barriers","forEach","WATER","SAND","weight","setBarrierToGraph","startIndex","START_POSITION","setStartPositionToGraph","endIndex","END_POSITION","setEndPositionToGraph","checkGameStatus","target","status","some","formatWithOptions","locale","ru","AlgoritmController","count","processing","visited","increment","addVertex","updateProcessing","push","getAlgotitmResult","canVisitedVertex","restorePath","historyPath","path","lastStep","unshift","getVertexWeight","heuristic","x1","y1","abs","algoritmsDomain","selectAlgoritm","createEvent","addVisitedVertex","addProcessedVertex","addCustomAlgoritm","$currentAlgoritm","$visitedVertex","$processedVertex","$algoritms","createStore","searchFunction","prevIndex","isWork","aInfo","queue","length","currentIndex","shift","undefined","i","sibling","includes","result","restoredPath","name","stack","priorityQueue","PriorityQueue","a","b","Map","add","isEmpty","poll","currentVertex","nextWeight","get","Infinity","set","positionByEndIndex","has","modal","$searchAlgoritm","currentAlgoritm","algoritms","algoritm","GameStatus","foo","_","processed","setGameStatus","RESET","gameDomain","setTimer","$path","$currentTimer","fps","fpsVariant","$gameState","startGame","START","resumeGame","RESUME","endGame","END_GAME","CLEAR","_graph$startEndPositi","time","performance","now","timeEnd","setBarrierToStateWithType","bind","findIndex","setStartToStore","setEndToStore","_state$graph","_state$graph$startEnd","setBarrierToState","drowBarriersWithType","executeLogic","canvas","gridData","visitedVertex","processedVertex","clearRect","height","clearALlCanvas","canvasControl","setState","animatedVisitedVertex","drawVertexWithLoop","drawVisitedVertexWithLoop","drowStartEndPositions","applyStyles","grid","prev","setVertex","animationCount","_state$processing","lineWidth","renderPath","animatedVertexWithArray","_getPositionByIndex","_getPositionByIndex2","animatedVertex","_getPositionByIndex3","_getPositionByIndex4","tickFx","createEffect","use","Promise","rs","setTimeout","[object Object]","isMouseDown","isMouseMove","listeners","lastIndex","disabledListeners","init","PAUSE","disabledListener","includeListener","registerClickEventToCanvas","addEventListener","userEvent","eventListener","_getLocalSize3","getTargetIndex","addMouseDownEvent","addMouseUpEvent","addMouseMoveEvent","addMouseClickEvent","$state","renderCanvas","localSize","globalSize","Path2D","buildGrid","addEventsToCanvas","configureCanvas","merge","$animationCount","tickWithParams","attach","effect","mapParams","$combineState","done","createTick","ModalWrapper","isOpen","onRequestClose","children","react_default","createElement","onMouseDown","e","stopPropagation","lib_default","closeTimeoutMS","StyledRootWrapper","onClick","StyledWrapper","StyledInner","CloseModal","ReactModal","setAppElement","styled","div","_templateObject","concat","_templateObject2","_templateObject3","_templateObject4","Icon","icon_templateObject","Text","p","text_templateObject","Button","icon","iconSize","variant","style","fontSize","startIcon","prop","value","is","FlexContainer","flex_wrapper_templateObject","props","css","styled_components_layout_templateObject","alignContent","align","basis","grow","shrink","justify","order","padding","maxW","direction","Left","flex_wrapper_templateObject2","Switch","label","_ref$name","rest","cursor","FormControlLabel","control","assign","Settings","_React$useState","React","useState","_React$useState2","setOpen","Fragment","icon_Icon","index_esm","Info","InfoModal","ColorBlock","info_templateObject","AboutAlgoritms","href","SelectBarrierType","useStore","handleChange","useCallback","Select","onChange","MenuItem","AlgoritmsList","handleChangeAlgoritm","isOpenAlgoritmList","UlWithAnimation","Li","isActive","key","ul","algoritm_list_templateObject","li","algoritm_list_templateObject2","Wrapper","info_block_templateObject","InfoDraggable","react_draggable_default","GameControllButtons","gameState","default_button_Button","GrResume","GrPause","GrPlay","GrClear","$graphState","AlgotitmResult","_graphState$timeEnd","_graphState$path","graphState","className","toFixed","handleChangeCode","$trimmedEditorCode","it","trim","CodeArea","code","customFunction","Function","replace","alert","react_ace_lib_default","nextCode","marginBottom","mode","theme","editorProps","$blockScrolling","showPrintMargin","showGutter","highlightActiveLine","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","CodeAreaModal","AlgoritmsBlock","_useState","_useState2","isOpenCodeArea","setOpenCodeArea","_useReducer","useReducer","_useReducer2","toggleAlgoritmList","_useStore","currentTimer","RightSideBar","borderTop","TextField","parseInt","default_switch_Switch","checked","App","useLayoutEffect","document","querySelector","getContext","globalCss","global_css_templateObject","GlobalModalStyles","createGlobalStyle","global_css_templateObject2","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.ac8ec29d.chunk.js","sourcesContent":["export const cellSize = 35;\nexport const pageWidth = window.innerWidth;\nexport const pageHeight = window.innerHeight;\nexport const borderSize = 0.5;\nexport const boardLength = pageWidth * pageHeight;\nexport const startPosition = 0;\nexport const endPosition = 17;\n\nexport const colorSchema = {\n  borderColor: \"#000\",\n  blockColor: \"#523509\",\n  startEndColor: [\"green\", \"red\"],\n};\n\nexport enum BarrierType {\n  START_POSITION = \"START_POSITION\",\n  END_POSITION = \"END_POSITION\",\n  BARIER = \"BARIER\",\n  EMPTY = \"EMPTY\",\n  WATER = \"WATER\",\n  SAND = \"SAND\",\n}\n\ntype DrawSquare = {\n  color?: string;\n  position: [number, number];\n  context: any;\n  width?: number;\n};\n\nexport function getLocalSize(w: number, h: number) {\n  return {\n    w: Math.floor(w / cellSize),\n    h: Math.floor(h / cellSize),\n  };\n}\n\nexport function getGlobalSize(w: number, h: number) {\n  return {\n    w: Math.floor(w * cellSize),\n    h: Math.floor(h * cellSize),\n  };\n}\n\nexport function convertLocalPositionToGlobal([x, y]: [number, number]) {\n  return [x * cellSize, y * cellSize];\n}\n\nexport function drawSquare({\n  color = \"rgb(152, 251, 152)\",\n  position,\n  context,\n  width,\n}: DrawSquare) {\n  const [x, y] = convertLocalPositionToGlobal(position);\n  const size = width || cellSize - borderSize * 2;\n\n  context.fillStyle = color;\n  context.fillRect(x + borderSize * 2, y + borderSize * 2, size, size);\n}\n\nexport function clearALlCanvas(context: any, canvas: any) {\n  return context.clearRect(0, 0, canvas.width, canvas.height);\n}\n\nexport function getIndexByPosition([x, y]: [number, number]) {\n  const { w } = getLocalSize(pageWidth, pageHeight);\n\n  return y * w + x;\n}\n\nexport function getPositionByIndex(index: number): [number, number] {\n  const { w } = getLocalSize(pageWidth, pageHeight);\n  const y = Math.floor(index / w);\n  const x = index - y * w;\n\n  return [x, y];\n}\n\nexport function getTargetIndex(event: any) {\n  const { w, h } = getLocalSize(event.clientX, event.clientY);\n  const index = getIndexByPosition([w, h]);\n\n  return index;\n}\n\nexport function drawMark({\n  color = \"#e84a4a\",\n  position,\n  context,\n}: Exclude<DrawSquare, \"width\">) {\n  const [x, y] = convertLocalPositionToGlobal(position);\n\n  context.strokeStyle = color;\n\n  context.beginPath();\n  context.moveTo(x + 10, y + 10);\n  context.lineTo(x + cellSize - 10, y + cellSize - 10);\n  context.stroke();\n\n  context.beginPath();\n  context.moveTo(x + cellSize - 10, y + 10);\n  context.lineTo(x + 10, y + cellSize - 10);\n  context.stroke();\n}\n","import { BarrierType, pageWidth, getLocalSize, pageHeight } from \"../config\";\n\nexport type Vertex = {\n  type: BarrierType;\n  siblings: Array<{ vertex: number }>;\n  weight?: number;\n};\n\nexport type GraphType = {\n  [key: string]: Vertex;\n};\n\nexport class Graph {\n  public graph: GraphType;\n  private cellCount: number;\n\n  constructor({ w, h }: { w: number; h: number }) {\n    this.graph = {};\n    this.cellCount = w * h;\n  }\n\n  createGraph(canMoveDiagonal: boolean) {\n    this.clear();\n\n    for (let index = 0; index < this.cellCount; index++) {\n      this.graph[index] = {\n        type: BarrierType.EMPTY,\n        siblings: (this.getSiblings(index, canMoveDiagonal).filter(\n          Boolean\n        ) as number[]).map((item) => ({ vertex: item })),\n      };\n    }\n\n    return this;\n  }\n\n  getVertexByIndex(index?: number) {\n    if (index) {\n      return this.graph[index];\n    }\n\n    return null;\n  }\n\n  updateGraph({\n    index,\n    ...newParams\n  }: {\n    index: number;\n    type: BarrierType;\n    weight?: number;\n    siblings?: [];\n  }) {\n    if (this.graph[index]) {\n      this.graph[index] = { ...this.graph[index], ...newParams };\n    }\n  }\n\n  getSiblings(index: number, canMoveDiagonal: boolean) {\n    const left = this.getLeftSibling(index);\n    const top = this.getTopSibling(index);\n    const right = this.getRightSibling(index);\n    const down = this.getDownSibling(index);\n\n    if (canMoveDiagonal) {\n      const topLeft = this.getTopLeftDiagonal(top, left);\n      const topRight = this.getTopRightDiagonal(top, right);\n      const botRight = this.getBotRightDiagonal(down, right);\n      const botLeft = this.getBotLeftDiagonal(down, left);\n\n      return [topLeft, top, topRight, right, botRight, down, botLeft, left];\n    }\n\n    return [top, left, down, right];\n  }\n\n  getTopLeftDiagonal(top?: number, left?: number) {\n    if (!top || !left) {\n      return undefined;\n    }\n\n    if (top >= 0 && left >= 0) {\n      return top - 1;\n    }\n  }\n\n  getTopRightDiagonal(top?: number, right?: number) {\n    if (!top || !right) {\n      return undefined;\n    }\n\n    if (top >= 0 && right >= 0) {\n      return top + 1;\n    }\n  }\n\n  getBotLeftDiagonal(bot?: number, left?: number) {\n    if (!bot || !left) {\n      return undefined;\n    }\n\n    if (bot >= 0 && left >= 0) {\n      return bot - 1;\n    }\n  }\n\n  getBotRightDiagonal(bot?: number, right?: number) {\n    if (!bot || !right) {\n      return undefined;\n    }\n\n    if (bot >= 0 && right) {\n      return bot + 1;\n    }\n  }\n\n  getBottomDiagonal(down: number) {\n    const left = down - 1;\n    const right = down + 1;\n\n    return [left, right];\n  }\n\n  getDownSibling(index: number) {\n    const { w, h } = getLocalSize(pageWidth, pageHeight);\n\n    const hasDownNeighbour = Math.floor(index / w) < h - 1;\n\n    if (hasDownNeighbour) {\n      return index + w;\n    }\n  }\n\n  getTopSibling(index: number) {\n    const { w } = getLocalSize(pageWidth, pageHeight);\n\n    const hasTopNeighbour = Math.floor(index / w) > 0;\n\n    if (hasTopNeighbour) {\n      return index - w;\n    }\n  }\n\n  getRightSibling(index: number) {\n    const { w } = getLocalSize(pageWidth, pageHeight);\n\n    const hasRightNeighbour = index % w < w - 1;\n\n    if (hasRightNeighbour) {\n      return index + 1;\n    }\n  }\n\n  getLeftSibling(index: number) {\n    const { w } = getLocalSize(pageWidth, pageHeight);\n\n    const hasLeftNeighbour = index % w > 0;\n\n    if (hasLeftNeighbour) {\n      return index - 1;\n    }\n  }\n\n  getGraph() {\n    return this.graph;\n  }\n\n  clear() {\n    this.graph = {};\n    return this;\n  }\n}\n\nexport const graphControll = new Graph(getLocalSize(pageWidth, pageHeight));\n","import { BarrierType, getLocalSize, getIndexByPosition } from \"../config\";\nimport {\n  removeBarrierItem,\n  setBarrier,\n  triggerEndPosition,\n  triggerStartPosition,\n  CombidenGraphType,\n} from \"./model\";\nimport { Graph } from \"./controller\";\nimport { BarrierItem } from \"./barrier\";\n\nexport function setBarrierToGraph(graph: Graph, barriers: Array<BarrierItem>) {\n  barriers.forEach((barrier) => {\n    if (barrier.barrierType === BarrierType.BARIER) {\n      graph.updateGraph({\n        index: barrier.getIndex(),\n        type: barrier.barrierType,\n        siblings: [],\n      });\n\n      return;\n    }\n\n    if (barrier.barrierType === BarrierType.WATER) {\n      graph.updateGraph({\n        index: barrier.getIndex(),\n        type: barrier.barrierType,\n        weight: 10,\n      });\n\n      return;\n    }\n\n    if (barrier.barrierType === BarrierType.SAND) {\n      graph.updateGraph({\n        index: barrier.getIndex(),\n        type: barrier.barrierType,\n        weight: 3,\n      });\n\n      return;\n    }\n  });\n}\n\nexport function setStartPositionToGraph(graph: Graph, startIndex: number) {\n  graph.updateGraph({ index: startIndex, type: BarrierType.START_POSITION });\n}\n\nexport function setEndPositionToGraph(graph: Graph, endIndex: number) {\n  graph.updateGraph({ index: endIndex, type: BarrierType.END_POSITION });\n}\n\nexport function setBarrierToState(\n  event: MouseEvent,\n  state: { graph: CombidenGraphType }\n) {\n  const { w, h } = getLocalSize(event.clientX, event.clientY);\n  const index = getIndexByPosition([w, h]);\n\n  const {\n    graph: {\n      startEndPosition: [startIndex, endIndex],\n      barrierType,\n    },\n  } = state;\n\n  if (index !== startIndex && index !== endIndex) {\n    setBarrier({ index, barrierType });\n  }\n}\n\nexport function removeBarrierFromState(event: MouseEvent) {\n  const { w, h } = getLocalSize(event.clientX, event.clientY);\n  const index = getIndexByPosition([w, h]);\n\n  removeBarrierItem(index);\n}\n\nexport function setStartToStore(\n  index: number,\n  { graph }: { graph: CombidenGraphType }\n) {\n  const findIndex = graph.barrier.find((barrier) => barrier.index === index);\n  const [, endIndex] = graph.startEndPosition;\n\n  if (!findIndex && index !== endIndex) {\n    triggerStartPosition(index);\n  }\n}\n\nexport function setEndToStore(\n  index: number,\n  { graph }: { graph: CombidenGraphType }\n) {\n  const findIndex = graph.barrier.find((barrier) => barrier.index === index);\n  const [startIndex] = graph.startEndPosition;\n\n  if (!findIndex && index !== startIndex) {\n    triggerEndPosition(index);\n  }\n}\n","import { drawSquare, drawMark, cellSize } from \"../config\";\n\nexport function drawSquareWithAnimation(params: {\n  position: [number, number];\n  context: CanvasRenderingContext2D;\n  color?: string;\n  width: number;\n  scale?: number;\n}) {\n  let animateId;\n  let {\n    position: [x, y],\n    width,\n    scale = 0.3,\n  } = params;\n\n  if (width < cellSize) {\n    animateId = requestAnimationFrame(() =>\n      drawSquareWithAnimation({\n        ...params,\n        width,\n        scale,\n      })\n    );\n\n    drawSquare({\n      ...params,\n      position: [x + scale, y + scale],\n    });\n\n    if (scale > 0 && width % 5 === 0) {\n      scale = scale - 0.1;\n    }\n\n    width++;\n  } else {\n    if (animateId) {\n      cancelAnimationFrame(animateId);\n    }\n  }\n}\n\nexport function drawMarkerWithAnimation(params: {\n  position: [number, number];\n  context: CanvasRenderingContext2D;\n  width?: number;\n}) {\n  let { width = cellSize - 10 } = params;\n  let animateId;\n\n  if (width < cellSize) {\n    animateId = requestAnimationFrame(() =>\n      drawMarkerWithAnimation({\n        ...params,\n        width,\n      })\n    );\n\n    drawMark({\n      ...params,\n      width,\n    });\n\n    width++;\n  } else {\n    drawSquare({\n      ...params,\n      color: \"#fff\",\n      width: 0,\n    });\n\n    if (animateId) {\n      cancelAnimationFrame(animateId);\n    }\n  }\n}\n","import {\n  getPositionByIndex,\n  drawSquare,\n  colorSchema,\n  BarrierType,\n} from \"../config\";\nimport { drawSquareWithAnimation, drawMarkerWithAnimation } from \"./animations\";\n\nexport class BarrierItem {\n  public barrierType: BarrierType;\n  public index: number;\n  public canDrawe: boolean;\n  public context: null | CanvasRenderingContext2D;\n  public canRemove: boolean;\n  public position: null | [number, number];\n\n  constructor(index: number, barrierType: BarrierType) {\n    this.barrierType = barrierType;\n    this.index = index;\n    this.canDrawe = false;\n    this.context = null;\n    this.canRemove = false;\n    this.position = null;\n  }\n\n  getBarier() {\n    return this;\n  }\n\n  getIndex() {\n    return this.index;\n  }\n\n  render(context: any, color = colorSchema.blockColor) {\n    this.context = context;\n    this.position = getPositionByIndex(this.index);\n\n    if (!this.canRemove) {\n      if (!this.canDrawe) {\n        drawSquareWithAnimation({\n          position: this.position,\n          context,\n          color,\n          width: 20,\n        });\n      } else {\n        drawSquare({\n          position: this.position,\n          context,\n          color,\n        });\n      }\n\n      this.canDrawe = true;\n    }\n  }\n\n  remove() {\n    this.canRemove = true;\n\n    if (this.position && this.context) {\n      drawMarkerWithAnimation({\n        position: this.position,\n        context: this.context,\n      });\n    }\n\n    this.canRemove = false;\n  }\n}\n","import { combine, createDomain, sample, guard, restore } from \"effector\";\nimport { startPosition, endPosition, BarrierType } from \"../config\";\nimport { graphControll, GraphType } from \"./controller\";\nimport {\n  setBarrierToGraph,\n  setStartPositionToGraph,\n  setEndPositionToGraph,\n} from \"./utils\";\nimport { BarrierItem } from \"./barrier\";\n\nexport type CombidenGraphType = {\n  graph: GraphType;\n  barrier: BarrierItem[];\n  barrierType: BarrierType;\n  startEndPosition: [number, number];\n  canMoveDiagonal: boolean;\n};\n\nconst graphDomain = createDomain(\"graph\");\n\nexport const resetStore = graphDomain.event();\n\nexport const clearCanvas = graphDomain.event();\n\nexport const changeDirection = graphDomain.event();\n\nexport const setBarrierType = graphDomain.event<string>();\n\nexport const setBarrier = graphDomain.event<{\n  index: number;\n  barrierType: BarrierType;\n}>();\n\nexport const removeBarrierItem = graphDomain.event<number>();\n\nexport const triggerStartPosition = graphDomain.event<number>();\n\nexport const triggerEndPosition = graphDomain.event<number>();\n\nexport const $startEndPosition = graphDomain.store<[number, number]>([\n  startPosition,\n  endPosition,\n]);\n\nexport const $canMoveDiagonal = graphDomain.store(false);\n\nexport const $barrierType = restore(setBarrierType, BarrierType.BARIER);\n\nexport const $barriers = graphDomain.store<Array<BarrierItem>>([]);\n\n$canMoveDiagonal.on(changeDirection, (state) => !state);\n\ngraphDomain.onCreateStore((store) => store.reset(resetStore));\n\nexport const removedBarrier = guard({\n  source: sample({\n    source: $barriers,\n    clock: removeBarrierItem,\n    fn: (state, index) => state.find((barrier) => barrier.getIndex() === index),\n  }),\n  filter: Boolean,\n});\n\nremovedBarrier.watch((barrier: BarrierItem) => barrier.remove());\n\n$barriers\n  .on(setBarrier, (state, { index, barrierType }) => {\n    const barrier = new BarrierItem(index, barrierType);\n\n    const isFindIndex = state.find((item) => item.getIndex() === index);\n\n    return isFindIndex ? state : [...state, barrier];\n  })\n  .on(removedBarrier, (state, removed) =>\n    state.filter((item) => item !== removed)\n  );\n\n$startEndPosition\n  .on(triggerStartPosition, (state, index) => [index, state[1]])\n  .on(triggerEndPosition, (state, index) => [state[0], index]);\n\nexport const $graph = combine({\n  barrier: $barriers,\n  barrierType: $barrierType,\n  startEndPosition: $startEndPosition,\n  canMoveDiagonal: $canMoveDiagonal,\n}).map((state) => {\n  const [start, end] = state.startEndPosition;\n\n  const graph = graphControll.createGraph(state.canMoveDiagonal);\n\n  setBarrierToGraph(graph, state.barrier);\n\n  setStartPositionToGraph(graph, start);\n\n  setEndPositionToGraph(graph, end);\n\n  return { ...state, graph: graph.graph };\n});\n","import { ru } from \"date-fns/locale\";\nimport { formatWithOptions } from \"date-fns/fp\";\nimport { GameStatus } from \"./model\";\n\nexport function checkGameStatus(target: GameStatus, status: Array<GameStatus>) {\n  return status.some((item) => target === item);\n}\n\nexport function filtredFps(_: number, fps: number) {\n  const fpsVariant = {\n    min: 1,\n    max: 30,\n  };\n\n  if (fps < fpsVariant.min) {\n    return fpsVariant.min;\n  }\n  if (fps >= fpsVariant.max) {\n    return fpsVariant.max;\n  }\n  return fps;\n}\n\nexport const formatter = formatWithOptions(\n  { locale: ru },\n  \" dd-MM-yyyy | HH:mm:ss\"\n);\n","export class AlgoritmController {\n  public count: number;\n  public processing: Array<{\n    vertex: number;\n    siblings: Array<number>;\n  }>;\n  public visited: Array<number | null>;\n  public startIndex: number;\n  public endIndex: number;\n\n  constructor(startIndex: number, endIndex: number) {\n    this.count = 0;\n    this.processing = [];\n    this.visited = [];\n    this.startIndex = startIndex;\n    this.endIndex = endIndex;\n  }\n\n  increment() {\n    this.count++;\n  }\n\n  addVertex(\n    {\n      vertex,\n      siblings,\n    }: {\n      vertex: number;\n      siblings: Array<{\n        vertex: number;\n      }>;\n    },\n    visited: number | null\n  ) {\n    const updateProcessing = {\n      vertex,\n      siblings: siblings.map((item) => item.vertex),\n    };\n\n    this.processing.push(updateProcessing);\n    this.visited.push(visited);\n  }\n\n  getAlgotitmResult() {\n    return this;\n  }\n}\n","import { Vertex } from \"graph\";\nimport { BarrierType } from \"../config\";\n\nexport const canVisitedVertex = (vertex: { type: BarrierType }) => {\n  if (vertex.type !== BarrierType.BARIER) {\n    return true;\n  }\n  return false;\n};\n\nexport function restorePath(\n  endIndex: number,\n  startIndex: number,\n  historyPath: { [key: string]: number }\n) {\n  const path = [endIndex];\n  let lastStep = endIndex;\n\n  while (lastStep && lastStep !== startIndex) {\n    path.unshift(historyPath[lastStep]);\n    lastStep = historyPath[lastStep];\n  }\n\n  return path;\n}\n\nexport function getVertexWeight(vertex: Vertex | null) {\n  if (vertex && vertex.weight) {\n    return vertex.weight;\n  }\n\n  return 1;\n}\n","import PriorityQueue from \"fastpriorityqueue\";\nimport { GraphType, Graph } from \"graph\";\n\nimport { getPositionByIndex } from \"../../config\";\n\nimport { AlgoritmController } from \"../controller\";\nimport { canVisitedVertex, restorePath, getVertexWeight } from \"../utils\";\n\nfunction heuristic([x, y]: number[], [x1, y1]: number[]) {\n  return Math.abs(x - x1) + Math.abs(y - y1);\n}\n\nexport function aStar(\n  startIndex: number,\n  endIndex: number,\n  graph: GraphType,\n  graphControll: Graph\n) {\n  let prevIndex = null;\n  let isWork = true;\n\n  const positionByEndIndex = getPositionByIndex(endIndex);\n\n  const aInfo = new AlgoritmController(startIndex, endIndex);\n\n  const priorityQueue = new PriorityQueue<[number, number]>(\n    (a, b) => a[1] < b[1]\n  );\n\n  const visited = new Map([[startIndex, 0]]);\n\n  const path: { [key: string]: number } = {};\n\n  priorityQueue.add([startIndex, 0]);\n\n  while (isWork && !priorityQueue.isEmpty()) {\n    const [currentIndex] = priorityQueue.poll() || [];\n\n    if (currentIndex === undefined || currentIndex === endIndex) {\n      isWork = false;\n      break;\n    }\n\n    const currentVertex = graph[currentIndex];\n\n    aInfo.addVertex(\n      {\n        vertex: currentIndex,\n        siblings: graph[currentIndex].siblings,\n      },\n      prevIndex\n    );\n\n    for (let i = 0; i < currentVertex.siblings.length; i++) {\n      const sibling = currentVertex.siblings[i];\n\n      if (!sibling) {\n        isWork = false;\n        break;\n      }\n\n      const vertex = graphControll.getVertexByIndex(sibling.vertex);\n\n      if (vertex && canVisitedVertex(vertex)) {\n        const nextWeight =\n          (visited.get(currentIndex) || currentIndex) + getVertexWeight(vertex);\n\n        const weightIsLower =\n          typeof visited.get(sibling.vertex) === \"undefined\" ||\n          nextWeight < (visited.get(sibling.vertex) || Infinity);\n\n        if (weightIsLower && !visited.has(sibling.vertex)) {\n          priorityQueue.add([\n            sibling.vertex,\n            nextWeight +\n              heuristic(positionByEndIndex, getPositionByIndex(sibling.vertex)),\n          ]);\n\n          path[sibling.vertex] = currentIndex;\n          visited.set(sibling.vertex, nextWeight);\n\n          aInfo.increment();\n\n          if (endIndex === sibling.vertex) {\n            isWork = false;\n            break;\n          }\n        }\n      }\n    }\n\n    prevIndex = currentIndex;\n  }\n\n  const restoredPath = restorePath(endIndex, startIndex, path);\n  const result = aInfo.getAlgotitmResult();\n\n  return {\n    ...result,\n    path: restoredPath,\n  };\n}\n","import {\n  createStore,\n  combine,\n  createEvent,\n  restore,\n  createDomain,\n} from \"effector\";\nimport { clearCanvas, resetStore } from \"graph\";\nimport { setGameStatus, GameStatus } from \"game\";\nimport { aStar } from \"./a-start\";\nimport { breadthFirstSearch } from \"./bred-first-search\";\nimport { depthFirstSearch } from \"./depth-first-search\";\nimport { dijkstra } from \"./dijkstra\";\n\nexport type AlgoritmName =\n  | \"bredth first search\"\n  | \"depth first search\"\n  | \"dijkstra\"\n  | \"a-star\"\n  | \"custom function\";\n\nexport type Algoritm = {\n  searchFunction: any;\n  name: AlgoritmName;\n  modal?: boolean;\n};\n\nexport type ProcessedVertex = {\n  vertex: number;\n  siblings: Array<number>;\n};\n\nconst algoritmsDomain = createDomain(\"algoritmsDomain\");\n\nexport const selectAlgoritm = createEvent<AlgoritmName>();\n\nexport const addVisitedVertex = createEvent<number>();\n\nexport const addProcessedVertex = createEvent<ProcessedVertex>();\n\nexport const addCustomAlgoritm = createEvent<any>();\n\nexport const $currentAlgoritm = restore<AlgoritmName>(\n  selectAlgoritm,\n  \"bredth first search\"\n);\n\nexport const $visitedVertex = algoritmsDomain.store<Array<number>>([]);\n\nexport const $processedVertex = algoritmsDomain.store<ProcessedVertex>({\n  vertex: 0,\n  siblings: [],\n});\n\nexport const $algoritms = createStore<Algoritm[]>([\n  {\n    searchFunction: breadthFirstSearch,\n    name: \"bredth first search\",\n  },\n  {\n    searchFunction: depthFirstSearch,\n    name: \"depth first search\",\n  },\n  {\n    searchFunction: dijkstra,\n    name: \"dijkstra\",\n  },\n  {\n    searchFunction: aStar,\n    name: \"a-star\",\n  },\n  {\n    searchFunction: null,\n    name: \"custom function\",\n    modal: true,\n  },\n]);\n\nexport const $searchAlgoritm = combine(\n  $currentAlgoritm,\n  $algoritms,\n  (currentAlgoritm, algoritms) =>\n    algoritms.find((algoritm) => algoritm.name === currentAlgoritm)\n);\n\n$algoritms.on(addCustomAlgoritm, (state, foo) =>\n  state.map((algoritm) =>\n    algoritm.name === \"custom function\"\n      ? { ...algoritm, searchFunction: foo }\n      : algoritm\n  )\n);\n\n$visitedVertex.on(addVisitedVertex, (state, vertex) => [...state, vertex]);\n\n$processedVertex.on(addProcessedVertex, (_, processed) => processed);\n\nalgoritmsDomain.onCreateStore((store) => store.reset(clearCanvas, resetStore));\n\nselectAlgoritm.watch(() => setGameStatus(GameStatus.RESET));\n","import { GraphType, Graph } from \"graph\";\nimport { canVisitedVertex, restorePath } from \"./utils\";\nimport { AlgoritmController } from \"./controller\";\n\nexport function breadthFirstSearch(\n  startIndex: number,\n  endIndex: number,\n  graph: GraphType,\n  graphControll: Graph\n) {\n  let prevIndex = null;\n  let isWork = true;\n\n  const aInfo = new AlgoritmController(startIndex, endIndex);\n\n  const queue = [startIndex];\n  const visited = [startIndex];\n  const path: { [key: string]: number } = {};\n\n  while (isWork && queue.length > 0) {\n    const currentIndex = queue.shift();\n\n    if (currentIndex === undefined) {\n      isWork = false;\n      break;\n    }\n\n    aInfo.addVertex(\n      {\n        vertex: currentIndex,\n        siblings: graph[currentIndex].siblings,\n      },\n      prevIndex\n    );\n\n    for (let i = 0; i < graph[currentIndex].siblings.length; i++) {\n      const sibling = graph[currentIndex].siblings[i];\n\n      if (!sibling) {\n        isWork = false;\n        break;\n      }\n\n      const vertex = graphControll.getVertexByIndex(sibling.vertex);\n\n      if (\n        vertex &&\n        !visited.includes(sibling.vertex) &&\n        canVisitedVertex(vertex)\n      ) {\n        queue.push(sibling.vertex);\n        visited.push(sibling.vertex);\n        path[sibling.vertex] = currentIndex;\n\n        aInfo.increment();\n      }\n\n      if (sibling.vertex === endIndex) {\n        isWork = false;\n        break;\n      }\n    }\n\n    prevIndex = currentIndex;\n  }\n\n  const result = aInfo.getAlgotitmResult();\n  const restoredPath = restorePath(endIndex, startIndex, path);\n\n  return {\n    ...result,\n    path: restoredPath,\n  };\n}\n","import { GraphType, Graph } from \"graph\";\nimport { canVisitedVertex, restorePath } from \"./utils\";\nimport { AlgoritmController } from \"./controller\";\n\nexport function depthFirstSearch(\n  startIndex: number,\n  endIndex: number,\n  graph: GraphType,\n  graphControll: Graph\n) {\n  let prevIndex = null;\n  let isWork = true;\n\n  const aInfo = new AlgoritmController(startIndex, endIndex);\n\n  const stack = [startIndex];\n  const visited = [startIndex];\n  const path: { [key: string]: number } = {};\n\n  while (isWork && stack.length > 0) {\n    const currentIndex = stack.shift();\n\n    if (currentIndex === undefined) {\n      isWork = false;\n      break;\n    }\n\n    aInfo.addVertex(\n      {\n        vertex: currentIndex,\n        siblings: graph[currentIndex].siblings,\n      },\n      prevIndex\n    );\n\n    for (let i = 0; i < graph[currentIndex].siblings.length; i++) {\n      const sibling = graph[currentIndex].siblings[i];\n\n      if (!sibling) {\n        isWork = false;\n        break;\n      }\n\n      const vertex = graphControll.getVertexByIndex(sibling.vertex);\n\n      if (\n        vertex &&\n        !visited.includes(sibling.vertex) &&\n        canVisitedVertex(vertex)\n      ) {\n        stack.unshift(sibling.vertex);\n        visited.push(sibling.vertex);\n        path[sibling.vertex] = currentIndex;\n\n        aInfo.increment();\n      }\n\n      if (sibling.vertex === endIndex) {\n        isWork = false;\n        break;\n      }\n    }\n\n    prevIndex = currentIndex;\n  }\n\n  const result = aInfo.getAlgotitmResult();\n  const restoredPath = restorePath(endIndex, startIndex, path);\n\n  return {\n    ...result,\n    path: restoredPath,\n  };\n}\n","import PriorityQueue from \"fastpriorityqueue\";\nimport { GraphType, Graph } from \"graph\";\nimport { canVisitedVertex, restorePath, getVertexWeight } from \"../utils\";\nimport { AlgoritmController } from \"../controller\";\n\nexport function dijkstra(\n  startIndex: number,\n  endIndex: number,\n  graph: GraphType,\n  graphControll: Graph\n) {\n  let prevIndex = null;\n  let isWork = true;\n\n  const aInfo = new AlgoritmController(startIndex, endIndex);\n\n  const priorityQueue = new PriorityQueue<[number, number]>(\n    (a, b) => a[1] < b[1]\n  );\n\n  const visited = new Map([[startIndex, 0]]); // помещать сюда вершину из очереди\n\n  const path: { [key: string]: number } = {};\n\n  priorityQueue.add([startIndex, 0]);\n\n  while (isWork && !priorityQueue.isEmpty()) {\n    const [currentIndex] = priorityQueue.poll() || [];\n\n    if (currentIndex === undefined || currentIndex === endIndex) {\n      isWork = false;\n      break;\n    }\n\n    const currentVertex = graph[currentIndex];\n\n    aInfo.addVertex(\n      {\n        vertex: currentIndex,\n        siblings: graph[currentIndex].siblings,\n      },\n      prevIndex\n    );\n\n    // Получить текущую вершину из очереди и получить ее соседей\n\n    // пройтипо всем соседям текущей вершины, вычислить вес, указать предка\n    for (let i = 0; i < currentVertex.siblings.length; i++) {\n      // сосед, находящийся в обработке у текущей вершины\n      const sibling = currentVertex.siblings[i];\n\n      if (!sibling) {\n        isWork = false;\n        break;\n      }\n\n      const vertex = graphControll.getVertexByIndex(sibling.vertex);\n\n      if (vertex && canVisitedVertex(vertex)) {\n        const nextWeight =\n          (visited.get(currentIndex) || currentIndex) + getVertexWeight(vertex);\n\n        const weightIsLower =\n          typeof visited.get(sibling.vertex) === \"undefined\" ||\n          nextWeight < (visited.get(sibling.vertex) || Infinity);\n\n        // вычислить вес соседа, сравнив с прошлым весом, если веса прошлого нет, значит он бесконечность\n\n        // Положить ребро в просмотренные, с выполненными вычислениями\n        if (weightIsLower) {\n          priorityQueue.add([sibling.vertex, nextWeight]);\n\n          path[sibling.vertex] = currentIndex;\n          visited.set(sibling.vertex, nextWeight);\n\n          aInfo.increment();\n\n          if (endIndex === sibling.vertex) {\n            isWork = false;\n            break;\n          }\n        }\n      }\n    }\n\n    prevIndex = currentIndex;\n  }\n\n  const restoredPath = restorePath(endIndex, startIndex, path);\n  const result = aInfo.getAlgotitmResult();\n\n  return {\n    ...result,\n    path: restoredPath,\n  };\n}\n","import { sample, guard, restore, createDomain, combine } from \"effector\";\nimport { AlgoritmController, $searchAlgoritm } from \"algoritms\";\nimport { $graph, resetStore, clearCanvas, graphControll } from \"../graph\";\nimport { filtredFps } from \"./utils\";\n\nexport enum GameStatus {\n  START = \"START\",\n  RESTART = \"RESTART\",\n  PAUSE = \"PAUSE\",\n  RESUME = \"RESUME\",\n  CLEAR = \"CLEAR\",\n  END_GAME = \"END_GAME\",\n  RESET = \"RESET\",\n}\n\nexport type Path = {\n  path: number[];\n  timeEnd: number;\n} & AlgoritmController;\n\nconst gameDomain = createDomain(\"game\");\n\nexport const setGameStatus = gameDomain.event<GameStatus>();\n\nexport const setTimer = gameDomain.event<number>();\n\nexport const $path = gameDomain\n  .store<Path | null>(null)\n  .reset(resetStore, clearCanvas);\n\nexport const $currentTimer = gameDomain\n  .store<number>(15)\n  .on(setTimer, filtredFps);\n\nexport const $gameState = restore<GameStatus>(\n  setGameStatus,\n  GameStatus.RESET\n).reset(resetStore);\n\nexport const startGame = guard<GameStatus>({\n  source: $gameState,\n  filter: $gameState.map((state) => state === GameStatus.START),\n});\n\nexport const resumeGame = guard<GameStatus>({\n  source: $gameState,\n  filter: $gameState.map((state) => state === GameStatus.RESUME),\n});\n\nexport const endGame = guard<GameStatus>({\n  source: $gameState,\n  filter: $gameState.map((state) => state === GameStatus.END_GAME),\n});\n\nguard({\n  source: $gameState,\n  filter: $gameState.map((state) => state === GameStatus.CLEAR),\n  target: resetStore,\n});\n\nguard({\n  source: $gameState,\n  filter: $gameState.map((state) => state === GameStatus.START),\n  target: clearCanvas,\n});\n\nsample({\n  source: combine({\n    graph: $graph,\n    algoritm: $searchAlgoritm,\n  }),\n  clock: startGame,\n  target: $path,\n  fn: ({ graph, algoritm }) => {\n    if (!algoritm) {\n      return {};\n    }\n\n    const [start, end] = graph.startEndPosition;\n\n    const time = window.performance.now();\n    const result = algoritm.searchFunction(\n      start,\n      end,\n      graph.graph,\n      graphControll\n    );\n    const timeEnd = window.performance.now() - time;\n\n    return {\n      ...result,\n      timeEnd,\n    };\n  },\n});\n","import { getLocalSize, getIndexByPosition, BarrierType } from \"../config\";\nimport {\n  removeBarrierFromState,\n  setBarrierToState,\n  setEndToStore,\n  setStartToStore,\n  BarrierItem,\n  CombidenGraphType,\n} from \"../graph\";\n\nclass Barrier {\n  private barrierType: null | string;\n  protected context: null | CanvasRenderingContext2D;\n\n  constructor() {\n    this.barrierType = null;\n    this.context = null;\n    this.setBarrierToStateWithType = this.setBarrierToStateWithType.bind(this);\n    this.clear = this.clear.bind(this);\n  }\n\n  setBarrierToStateWithType(\n    event: MouseEvent,\n    state: { graph: CombidenGraphType }\n  ) {\n    const { w, h } = getLocalSize(event.clientX, event.clientY);\n    const index = getIndexByPosition([w, h]);\n    const { graph } = state;\n\n    if (!this.barrierType) {\n      this.barrierType = graph.graph[index].type;\n    }\n\n    switch (this.barrierType) {\n      case BarrierType.BARIER:\n        return removeBarrierFromState(event);\n      case BarrierType.WATER:\n        return removeBarrierFromState(event);\n      case BarrierType.SAND:\n        return removeBarrierFromState(event);\n      case BarrierType.START_POSITION:\n        return setStartToStore(index, state);\n      case BarrierType.END_POSITION:\n        return setEndToStore(index, state);\n      case BarrierType.EMPTY:\n        return setBarrierToState(event, state);\n    }\n  }\n\n  drowBarriersWithType(\n    barriers: Array<BarrierItem>,\n    context: CanvasRenderingContext2D\n  ) {\n    for (let i = 0; i < barriers.length; i++) {\n      if (barriers[i].barrierType === BarrierType.WATER) {\n        barriers[i].render(context, \"#86c7e6\");\n      }\n      if (barriers[i].barrierType === BarrierType.SAND) {\n        barriers[i].render(context, \"#fae8c2\");\n      }\n      if (barriers[i].barrierType === BarrierType.BARIER) {\n        barriers[i].render(context);\n      }\n    }\n  }\n\n  clear() {\n    this.barrierType = null;\n  }\n}\n\nexport const barrier = new Barrier();\n","import { CombidenGraphType } from \"graph\";\nimport { ProcessedVertex } from \"algoritms\";\nimport { clearALlCanvas } from \"../config\";\nimport { canvasControl } from \"../control-canvas\";\nimport { animatedVisitedVertex } from \"../game\";\nimport { barrier } from \"./render-barrier-with-type\";\nimport { drowStartEndPositions } from \"./drow-start-end-position\";\nimport { Grid } from \"./build-grid\";\n\ntype Render = {\n  visitedVertex: number[];\n  graph: CombidenGraphType;\n  processedVertex: ProcessedVertex;\n};\n\nexport function executeLogic(\n  canvas: HTMLCanvasElement,\n  context: CanvasRenderingContext2D,\n  gridData: Grid\n) {\n  return function render({ graph, visitedVertex, processedVertex }: Render) {\n    clearALlCanvas(context, canvas);\n\n    canvasControl.setState({ graph });\n\n    animatedVisitedVertex.drawVertexWithLoop(processedVertex);\n\n    animatedVisitedVertex.drawVisitedVertexWithLoop(visitedVertex);\n\n    barrier.drowBarriersWithType(graph.barrier, context);\n\n    drowStartEndPositions(graph.startEndPosition, context);\n\n    gridData.applyStyles();\n    context.stroke(gridData.grid);\n  };\n}\n","import { colorSchema, getPositionByIndex, drawSquare } from \"../config\";\n\nexport function drowStartEndPositions(\n  startEndPosition: [number, number],\n  context: CanvasRenderingContext2D\n) {\n  for (let i = 0; i < startEndPosition.length; i++) {\n    const index = getPositionByIndex(startEndPosition[i]);\n\n    drawSquare({\n      position: index,\n      context,\n      color: colorSchema.startEndColor[i],\n    });\n  }\n}\n","import {\n  getPositionByIndex,\n  convertLocalPositionToGlobal,\n  cellSize,\n} from \"../config\";\n\ntype RenderPath = {\n  context: CanvasRenderingContext2D;\n  path: number[];\n  color?: string;\n};\n\nlet prev: null | [number, number] = null;\nexport function renderPath({\n  context,\n  path = [],\n  color = \"green\",\n}: RenderPath) {\n  for (let i = 0; i < path.length; i++) {\n    const position = getPositionByIndex(path[i]);\n    const [x, y] = convertLocalPositionToGlobal(position);\n\n    if (prev) {\n      context.beginPath();\n      context.strokeStyle = color;\n      context.lineWidth = 2;\n      context.moveTo(prev[0], prev[1]);\n      context.lineTo(x + cellSize / 2, y + cellSize / 2);\n      context.stroke();\n    }\n\n    prev = [x + cellSize / 2, y + cellSize / 2];\n  }\n\n  prev = null;\n}\n","import {\n  addProcessedVertex,\n  addVisitedVertex,\n  ProcessedVertex,\n} from \"../algoritms\";\nimport { renderPath } from \"../render\";\nimport { getPositionByIndex, drawSquare } from \"../config\";\nimport { setGameStatus, GameStatus, Path } from \"./model\";\n\nclass AnimatedVisitedVertex {\n  public context: null | CanvasRenderingContext2D;\n\n  constructor() {\n    this.context = null;\n  }\n\n  setVertex(\n    { animationCount, state }: { animationCount: number; state: Path | null },\n    context: CanvasRenderingContext2D\n  ) {\n    if (!this.context) {\n      this.context = context;\n    }\n\n    if (!state) {\n      return;\n    }\n\n    const { processing = [] } = state;\n\n    if (animationCount < processing.length) {\n      const processed = processing[animationCount];\n      const visited = processing[animationCount - 1];\n\n      addProcessedVertex(processed);\n\n      if (visited) {\n        addVisitedVertex(visited.vertex);\n      }\n    } else {\n      setGameStatus(GameStatus.END_GAME);\n\n      renderPath({\n        path: state.path,\n        context,\n      });\n    }\n  }\n\n  animatedVertexWithArray(\n    barriers: number[],\n    context: CanvasRenderingContext2D,\n    color = \"#000\"\n  ) {\n    for (let i = 0; i < barriers.length; i++) {\n      const [x, y] = getPositionByIndex(barriers[i]);\n\n      drawSquare({\n        position: [x, y],\n        context,\n        color,\n      });\n    }\n  }\n\n  animatedVertex(\n    barrier: number,\n    context: CanvasRenderingContext2D,\n    color = \"#000\"\n  ) {\n    if (barrier) {\n      const [x, y] = getPositionByIndex(barrier);\n\n      drawSquare({\n        position: [x, y],\n        context,\n        color,\n      });\n    }\n  }\n\n  drawVertexWithLoop(processedVertex: ProcessedVertex) {\n    if (!processedVertex.vertex || !this.context) {\n      return;\n    }\n\n    this.animatedVertexWithArray(\n      processedVertex.siblings,\n      this.context,\n      \"#d2ef99\"\n    );\n\n    this.animatedVertex(processedVertex.vertex, this.context, \"#f3fc23\");\n  }\n\n  drawVisitedVertexWithLoop(visitedVertex: number[]) {\n    if (this.context) {\n      this.animatedVertexWithArray(visitedVertex, this.context, \"#00bcd4\");\n    }\n  }\n}\n\nexport const animatedVisitedVertex = new AnimatedVisitedVertex();\n","import {\n  createEffect,\n  attach,\n  createStore,\n  sample,\n  guard,\n  combine,\n  merge,\n  Store,\n  Effect,\n} from \"effector\";\nimport { clearCanvas, resetStore } from \"../graph\";\nimport { checkGameStatus } from \"./utils\";\nimport {\n  GameStatus,\n  $gameState,\n  $currentTimer,\n  startGame,\n  resumeGame,\n  Path,\n} from \"./model\";\nimport { animatedVisitedVertex } from \"./animated-vertex\";\n\nconst tickFx = createEffect<number, number>().use(\n  (fps: number) => new Promise((rs) => setTimeout(rs, 1000 / (fps * 2)))\n);\n\nexport function createTick($state: Store<Path | null>, context: any) {\n  const $animationCount = createStore<number>(0).reset(clearCanvas, resetStore);\n\n  const tickWithParams = attach<\n    GameStatus,\n    Store<number>,\n    Effect<number, number>\n  >({\n    source: $currentTimer,\n    effect: tickFx,\n    mapParams: (_, fps) => fps,\n  });\n\n  const $combineState = combine(\n    $state,\n    $animationCount,\n    (state, animationCount) => ({ state, animationCount })\n  );\n\n  $animationCount.on(tickWithParams.done, (state) => state + 1);\n\n  sample($combineState, tickWithParams).watch((state) => {\n    animatedVisitedVertex.setVertex(state, context);\n  });\n\n  guard({\n    source: merge([startGame, resumeGame, tickWithParams.done]),\n    filter: $gameState.map((state) =>\n      checkGameStatus(state, [GameStatus.RESUME, GameStatus.START])\n    ),\n    target: tickWithParams,\n  });\n}\n","import { CombidenGraphType } from \"graph\";\nimport { getTargetIndex } from \"./config\";\nimport { $gameState, GameStatus, checkGameStatus } from \"./game\";\n\ntype EventListener = (\n  event?: MouseEvent,\n  state?: { [key: string]: any },\n  lastIndex?: number | null\n) => void;\n\ntype Listener = {\n  type: string;\n  eventListener: EventListener;\n};\n\nclass Controll {\n  private isMouseDown: boolean = false;\n  private isMouseMove: boolean = false;\n  private listeners: Array<Listener> = [];\n  private state: { graph: CombidenGraphType } | {} = {};\n  private lastIndex: null | number = null;\n  private disabledListeners: Array<Listener> = [];\n\n  init() {\n    $gameState.watch((state) => {\n      if (\n        checkGameStatus(state, [\n          GameStatus.START,\n          GameStatus.PAUSE,\n          GameStatus.RESUME,\n        ])\n      ) {\n        this.disabledListener();\n      } else {\n        this.includeListener();\n      }\n    });\n\n    return this;\n  }\n\n  registerClickEventToCanvas(canvas: HTMLCanvasElement) {\n    canvas.addEventListener(\"mousedown\", (event: MouseEvent) => {\n      this.listeners\n        .filter((userEvent) => userEvent.type === \"mousedown\")\n        .forEach((userEvent) => userEvent.eventListener());\n\n      this.isMouseDown = true;\n      this.isMouseMove = false;\n    });\n\n    canvas.addEventListener(\"mouseup\", (event: MouseEvent) => {\n      this.isMouseDown = false;\n      this.listeners\n        .filter((userEvent) => userEvent.type === \"mouseup\")\n        .forEach((userEvent) => userEvent.eventListener(event, this.state));\n    });\n\n    canvas.addEventListener(\"click\", (event: MouseEvent) => {\n      this.listeners\n        .filter((userEvent) => userEvent.type === \"click\")\n        .forEach((userEvent) => {\n          if (!this.isMouseMove) {\n            userEvent.eventListener(event, this.state);\n          }\n        });\n    });\n\n    canvas.addEventListener(\"mousemove\", (event: MouseEvent) => {\n      const index = getTargetIndex(event);\n\n      if (this.isMouseDown && index !== this.lastIndex) {\n        this.lastIndex = index;\n        this.isMouseMove = true;\n        this.listeners\n          .filter((userEvent) => userEvent.type === \"mousemove\")\n          .forEach((userEvent) =>\n            userEvent.eventListener(event, this.state, this.lastIndex)\n          );\n      }\n    });\n  }\n\n  disabledListener() {\n    this.clear();\n  }\n\n  includeListener() {\n    this.listeners = this.disabledListeners;\n  }\n\n  addMouseDownEvent<T extends EventListener>(eventListener: T) {\n    this.listeners.push({ type: \"mousedown\", eventListener });\n  }\n\n  addMouseUpEvent<T extends EventListener>(eventListener: T) {\n    this.listeners.push({ type: \"mouseup\", eventListener });\n  }\n\n  addMouseMoveEvent<T extends EventListener>(eventListener: T) {\n    this.listeners.push({ type: \"mousemove\", eventListener });\n  }\n\n  addMouseClickEvent<T extends EventListener>(eventListener: T) {\n    this.listeners.push({ type: \"click\", eventListener });\n  }\n\n  setState(state: Controll[\"state\"]) {\n    this.state = state;\n\n    return this;\n  }\n\n  clear() {\n    if (this.listeners.length > 0) {\n      this.disabledListeners = this.listeners;\n      this.isMouseDown = false;\n      this.isMouseMove = false;\n      this.listeners = [];\n      this.lastIndex = null;\n    }\n  }\n}\n\nexport const canvasControl = new Controll();\n","import { sample, merge, combine } from \"effector\";\nimport { pageHeight, pageWidth, getLocalSize, getGlobalSize } from \"./config\";\nimport { configureCanvas } from \"./config-canvas\";\nimport { canvasControl } from \"./control-canvas\";\nimport {\n  $graph,\n  resetStore,\n  clearCanvas,\n  removeBarrierFromState,\n} from \"./graph\";\nimport { executeLogic } from \"./render/render\";\nimport { $path, createTick } from \"./game\";\nimport { $visitedVertex, $processedVertex } from \"./algoritms\";\nimport { buildGrid } from \"./render/build-grid\";\nimport { barrier } from \"./render/render-barrier-with-type\";\n\nconst $state = combine({\n  visitedVertex: $visitedVertex,\n  graph: $graph,\n  processedVertex: $processedVertex,\n});\n\nexport function renderCanvas(\n  canvas: HTMLCanvasElement,\n  context: CanvasRenderingContext2D\n) {\n  const localSize = getLocalSize(pageWidth, pageHeight);\n  const globalSize = getGlobalSize(localSize.w, localSize.h);\n  const gridData = buildGrid(context);\n\n  addEventsToCanvas(canvas);\n  configureCanvas(canvas, globalSize);\n\n  const render = executeLogic(canvas, context, gridData);\n\n  $state.watch(render);\n\n  sample({\n    source: $state,\n    clock: merge([resetStore, clearCanvas]),\n  }).watch(render);\n\n  createTick($path, context);\n}\n\nfunction addEventsToCanvas(canvas: HTMLCanvasElement) {\n  canvasControl.init();\n  canvasControl.registerClickEventToCanvas(canvas);\n  canvasControl.addMouseMoveEvent(barrier.setBarrierToStateWithType);\n  canvasControl.addMouseClickEvent(removeBarrierFromState);\n  canvasControl.addMouseUpEvent(barrier.clear);\n}\n","import {\n  cellSize,\n  colorSchema,\n  borderSize,\n  getLocalSize,\n  getGlobalSize,\n  pageHeight,\n  pageWidth,\n} from \"../config\";\n\nexport type Grid = {\n  grid: Path2D;\n  applyStyles: () => void;\n};\n\nexport function buildGrid(context: CanvasRenderingContext2D) {\n  const grid = new Path2D();\n\n  const localSize = getLocalSize(pageWidth, pageHeight);\n  const globalSize = getGlobalSize(localSize.w, localSize.h);\n\n  for (let i = 0; i <= localSize.w; i++) {\n    grid.moveTo(i * cellSize + borderSize, 0);\n    grid.lineTo(i * cellSize + borderSize, globalSize.h);\n  }\n\n  for (let i = 0; i <= localSize.h; i++) {\n    grid.moveTo(0, i * cellSize + borderSize);\n    grid.lineTo(globalSize.w, i * cellSize + borderSize);\n  }\n\n  return {\n    grid,\n    applyStyles: () => {\n      context.lineWidth = borderSize;\n      context.strokeStyle = colorSchema.borderColor;\n    },\n  };\n}\n","export function configureCanvas(\n  canvas: HTMLCanvasElement,\n  { w, h }: { w: number; h: number }\n) {\n  canvas.height = h;\n  canvas.width = w;\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport ReactModal from \"react-modal\";\n\nReactModal.setAppElement(\"#root\");\n\ntype Props = {\n  isOpen: boolean;\n  onRequestClose: () => void;\n  children: React.ReactNode;\n  width?: number;\n};\n\nexport function ModalWrapper({\n  isOpen,\n  onRequestClose,\n  children,\n  width,\n}: Props) {\n  return (\n    <div onMouseDown={(e) => e.stopPropagation()}>\n      <ReactModal\n        isOpen={isOpen}\n        closeTimeoutMS={200}\n        onRequestClose={onRequestClose}\n      >\n        <StyledRootWrapper onClick={onRequestClose}>\n          <StyledWrapper>\n            <StyledInner width={width} onClick={(e) => e.stopPropagation()}>\n              {children}\n              <CloseModal onClick={onRequestClose} />\n            </StyledInner>\n          </StyledWrapper>\n        </StyledRootWrapper>\n      </ReactModal>\n    </div>\n  );\n}\n\nexport const StyledInner = styled.div<{ width?: number }>`\n  background: #fff;\n  padding: 25px;\n  display: inline-block;\n  vertical-align: middle;\n  text-align: left;\n  margin: 10px;\n  width: ${({ width }) => (width ? `${width}px` : \"auto\")};\n  position: relative;\n  border-radius: 10px;\n  opacity: 0;\n  transition: all 0.3s;\n  transform: translateX(-100px);\n`;\n\nexport const StyledRootWrapper = styled.div`\n  overflow-x: hidden;\n  overflow-y: auto;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1043;\n  position: fixed;\n  opacity: 0;\n  transition: all 0.3s;\n`;\n\nexport const StyledWrapper = styled.div`\n  position: absolute;\n  margin: 0;\n  padding: 0;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1045;\n  outline: 0;\n  overflow: auto;\n  white-space: normal;\n  box-sizing: border-box;\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #27262687;\n`;\n\nconst CloseModal = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  &:after {\n    position: absolute;\n    content: \"\\\\2718\";\n    top: 50%;\n    right: 50%;\n    transform: translate(50%, -50%);\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Icon = styled.div`\n  cursor: pointer;\n`;\n","import styled from \"styled-components\";\n\nexport const Text = styled.p`\n  font-size: 14px;\n`;\n","import React from \"react\";\nimport { Button as DefaultButton, ButtonTypeMap } from \"@material-ui/core\";\n\ntype Props = {\n  icon?: React.ComponentType<{ size?: number }>;\n  type?: \"outline\";\n  children: React.ReactNode;\n  onClick: () => void;\n  iconSize?: number;\n} & Exclude<ButtonTypeMap[\"props\"], \"size\">;\n\nexport function Button({\n  icon: Icon,\n  type,\n  iconSize = 14,\n  children,\n  onClick,\n  variant = \"contained\",\n  color = \"default\",\n}: Props) {\n  return type === \"outline\" ? (\n    <DefaultButton onClick={onClick}>{children}</DefaultButton>\n  ) : (\n    <DefaultButton\n      style={{ fontSize: \"11px\" }}\n      onClick={onClick}\n      variant={variant}\n      color={color}\n      startIcon={Icon && <Icon size={iconSize} />}\n    >\n      {children}\n    </DefaultButton>\n  );\n}\n","import React from \"react\";\nimport { css } from \"styled-components\";\n\ntype TagsProps = {\n  as: React.ComponentType<any>;\n  to?: string;\n  children: React.ReactNode;\n  onClick?: React.Dispatch<void>;\n};\n\nexport type MixinsProps = {\n  alignContent?: string;\n  align?: string;\n  basis?: string;\n  grow?: string;\n  shrink?: string;\n  justify?: string;\n  order?: string;\n  padding?: string;\n  width?: string;\n  maxW?: string;\n};\n\nexport const WithTag = ({ as, children, to, onClick, ...props }: TagsProps) =>\n  React.createElement(as, { to, onClick, ...props }, children);\n\nWithTag.defaultProps = {\n  as: \"div\",\n};\n\nconst is = (value?: string) => typeof value !== \"undefined\";\nconst prop = (value?: string) => (is(value) ? value : \"initial\");\n\nexport const mixins = (props: MixinsProps) => css`\n  align-content: ${prop(props.alignContent)};\n  align-items: ${prop(props.align)};\n  flex-basis: ${prop(props.basis)};\n  flex-grow: ${prop(props.grow)};\n  flex-shrink: ${prop(props.shrink)};\n  justify-content: ${prop(props.justify)};\n  order: ${prop(props.order)};\n  padding: ${prop(props.padding)};\n  width: ${prop(props.width)};\n  max-width: ${prop(props.maxW)};\n`;\n","import styled from \"styled-components\";\nimport { mixins, MixinsProps } from \"../../lib/styled-components-layout\";\n\nexport const FlexContainer = styled.div<{ direction?: string } & MixinsProps>`\n  ${mixins as any}\n  display: flex;\n  flex-direction: ${({ direction }) => direction || \"row\"};\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 15px 0px;\n`;\n\nexport const Left = styled.div`\n  width: 25%;\n  text-align: left;\n  padding-right: 15px;\n`;\n","import { Event } from \"effector\";\nimport React from \"react\";\nimport { FormControlLabel, Switch as DefaultSwitch } from \"@material-ui/core\";\nimport { FlexContainer, Left } from \"../templates\";\n\ntype Props = {\n  label: string;\n  name?: string;\n  onChange: Event<void>;\n  checked: boolean;\n};\n\nexport function Switch({ label, name = \"gilad\", ...rest }: Props) {\n  return (\n    <label style={{ cursor: \"pointer\" }}>\n      <FlexContainer>\n        <Left>\n          <FormControlLabel\n            label=\"\"\n            control={<DefaultSwitch {...(rest as any)} name={name} />}\n          />\n        </Left>\n        <h3>{label}</h3>\n      </FlexContainer>\n    </label>\n  );\n}\n","import React from \"react\";\nimport { FiSettings } from \"react-icons/fi\";\nimport { Icon } from \"../atoms\";\nimport { ModalWrapper } from \"./modal-wrapper\";\n\nexport function Settings() {\n  const [isOpen, setOpen] = React.useState(false);\n\n  return (\n    <>\n      <Icon onClick={() => setOpen(true)}>\n        <FiSettings color=\"#fff\" size=\"35\" />\n      </Icon>\n      <ModalWrapper isOpen={isOpen} onRequestClose={() => setOpen(false)}>\n        Setting info\n      </ModalWrapper>\n    </>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { FiInfo } from \"react-icons/fi\";\nimport { ModalWrapper } from \"./modal-wrapper\";\nimport { Icon, Text } from \"../atoms\";\nimport { FlexContainer } from \"../templates\";\n\nexport function Info() {\n  const [isOpen, setOpen] = React.useState(false);\n\n  return (\n    <>\n      <Icon onClick={() => setOpen(true)}>\n        <FiInfo color=\"#fff\" size=\"35\" />\n      </Icon>\n\n      <InfoModal isOpen={isOpen} setOpen={setOpen} />\n    </>\n  );\n}\n\nfunction InfoModal({\n  isOpen,\n  setOpen,\n}: {\n  isOpen: boolean;\n  setOpen: (param: boolean) => void;\n}) {\n  return (\n    <ModalWrapper\n      width={500}\n      isOpen={isOpen}\n      onRequestClose={() => setOpen(false)}\n    >\n      <FlexContainer>\n        <ColorBlock color=\"green\" />\n        <Text>- Точка старта алгоритма</Text>\n      </FlexContainer>\n      <FlexContainer>\n        <ColorBlock color=\"red\" />\n        <Text>- Точка завершения алгоритма</Text>\n      </FlexContainer>\n      <FlexContainer>\n        <ColorBlock color=\"#00bcd4\" />\n        <Text>- Пройденная вершина</Text>\n      </FlexContainer>\n      <FlexContainer>\n        <ColorBlock color=\"#f3fc23\" />\n        <Text>- Вершина, находящаяся в обработке</Text>\n      </FlexContainer>\n      <FlexContainer>\n        <ColorBlock color=\"#d2ef99\" />\n        <Text>- Соседи текущей вершины</Text>\n      </FlexContainer>\n      <FlexContainer>\n        <ColorBlock color=\"#bbbbbb\" />\n        <Text>- Цвет не проходимого барьера</Text>\n      </FlexContainer>\n    </ModalWrapper>\n  );\n}\n\nconst ColorBlock = styled.div`\n  width: 35px;\n  height: 35px;\n  background: ${({ color }) => color};\n  margin-right: 15px;\n`;\n","import React from \"react\";\nimport { FiBook } from \"react-icons/fi\";\nimport { ModalWrapper } from \"./modal-wrapper\";\nimport { Icon } from \"../atoms\";\n\nexport function AboutAlgoritms() {\n  const [isOpen, setOpen] = React.useState(false);\n\n  return (\n    <>\n      <Icon onClick={() => setOpen(true)}>\n        <FiBook color=\"#fff\" size=\"35\" />\n      </Icon>\n      <ModalWrapper\n        width={700}\n        isOpen={isOpen}\n        onRequestClose={() => setOpen(false)}\n      >\n        <h2>Информация об алгоритмах</h2>\n        <ul>\n          <li>\n            <a href=\"qwd\" target=\"__blank\">\n              Поиск в ширину\n            </a>\n          </li>\n          <li>\n            <a href=\"qwd\" target=\"__blank\">\n              Поиск в глубину\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"https://github.com/bogdanq/algorithms/blob/master/src/algoritms/dijkstra/dijkstra.md\"\n              target=\"__blank\"\n            >\n              Алгоритм dijkstra\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"https://github.com/bogdanq/algorithms/blob/master/src/algoritms/a-start/a-start.md\"\n              target=\"__blank\"\n            >\n              Алгоритм a-star\n            </a>\n          </li>\n        </ul>\n      </ModalWrapper>\n    </>\n  );\n}\n","import React from \"react\";\nimport { useStore } from \"effector-react\";\nimport { Select as DefaultSelect, MenuItem } from \"@material-ui/core\";\nimport { BarrierType } from \"../../../config\";\nimport { setBarrierType, $barrierType } from \"../../../graph\";\n\nexport function SelectBarrierType() {\n  const barrierType = useStore($barrierType);\n\n  const handleChange = React.useCallback((event) => {\n    setBarrierType(event.target.value);\n  }, []);\n\n  return (\n    <DefaultSelect\n      style={{ width: \"100%\" }}\n      value={barrierType}\n      onChange={handleChange}\n    >\n      <MenuItem value={BarrierType.BARIER}>Не проходимый барьер</MenuItem>\n      <MenuItem value={BarrierType.WATER}>Вода (вес 10)</MenuItem>\n      <MenuItem value={BarrierType.SAND}>Песок (вес 3)</MenuItem>\n    </DefaultSelect>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { Algoritm, AlgoritmName } from \"../../../algoritms\";\n\ntype Props = {\n  handleChangeAlgoritm: (params: Algoritm) => void;\n  algoritms: Algoritm[];\n  isOpenAlgoritmList: boolean;\n  currentAlgoritm: AlgoritmName;\n};\n\nexport function AlgoritmsList({\n  handleChangeAlgoritm,\n  algoritms,\n  isOpenAlgoritmList,\n  currentAlgoritm,\n}: Props) {\n  return (\n    <UlWithAnimation isOpenAlgoritmList={isOpenAlgoritmList}>\n      {algoritms.map((algoritm) => (\n        <Li\n          isActive={currentAlgoritm === algoritm.name}\n          onClick={() => {\n            handleChangeAlgoritm(algoritm);\n          }}\n          key={algoritm.name}\n        >\n          {algoritm.name}\n        </Li>\n      ))}\n    </UlWithAnimation>\n  );\n}\n\nconst UlWithAnimation = styled.ul<{ isOpenAlgoritmList: boolean }>`\n  overflow: hidden;\n  transition: all 0.2s;\n  height: ${({ isOpenAlgoritmList }) => (isOpenAlgoritmList ? \"250px\" : 0)};\n`;\n\nconst Li = styled.li<{ isActive: boolean }>`\n  color: ${({ isActive }) => (isActive ? \"#fff\" : \"#d1d1d1\")};\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Draggable from \"react-draggable\";\nimport { Settings, Info, AboutAlgoritms } from \"../molecules\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  position: fixed;\n  padding: 15px 10px;\n  background-color: rgba(0, 0, 0, 0.6);\n  color: #fff;\n  border-radius: 8px;\n  box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.5);\n  cursor: default;\n  left: 20px;\n  bottom: 20px;\n\n  &:hover {\n    cursor: move;\n  }\n\n  & > div {\n    margin: 0 10px;\n    display: flex;\n    justify-content: center;\n  }\n`;\n\nexport function InfoDraggable() {\n  return (\n    <Draggable>\n      <Wrapper>\n        <Info />\n        <Settings />\n        <AboutAlgoritms />\n        {/* <History /> */}\n      </Wrapper>\n    </Draggable>\n  );\n}\n","import React from \"react\";\nimport { useStore } from \"effector-react\";\nimport { GrResume, GrClear, GrPlay, GrPause } from \"react-icons/gr\";\nimport {\n  GameStatus,\n  setGameStatus,\n  $gameState,\n  checkGameStatus,\n} from \"../../../game\";\nimport { Button } from \"../atoms\";\nimport { FlexContainer } from \"../templates\";\n\nexport function GameControllButtons() {\n  const gameState = useStore($gameState);\n\n  return (\n    <FlexContainer justify=\"space-around\">\n      {checkGameStatus(gameState, [\n        GameStatus.START,\n        GameStatus.PAUSE,\n        GameStatus.RESUME,\n      ]) ? (\n        !checkGameStatus(gameState, [GameStatus.PAUSE]) ? (\n          <Button\n            onClick={() => setGameStatus(GameStatus.PAUSE)}\n            icon={GrPause}\n          >\n            Пауза\n          </Button>\n        ) : (\n          <Button\n            onClick={() => setGameStatus(GameStatus.RESUME)}\n            icon={GrResume}\n          >\n            Продолжить\n          </Button>\n        )\n      ) : (\n        <Button onClick={() => setGameStatus(GameStatus.START)} icon={GrPlay}>\n          Старт\n        </Button>\n      )}\n      <Button onClick={() => setGameStatus(GameStatus.CLEAR)} icon={GrClear}>\n        Очистить\n      </Button>\n    </FlexContainer>\n  );\n}\n","import React from \"react\";\nimport { sample, createStore } from \"effector\";\nimport { useStore } from \"effector-react\";\nimport { $path, endGame, Path } from \"../../../game\";\n\nconst $graphState = createStore<Path | null>(null);\n\nsample({\n  source: $path,\n  clock: endGame,\n  target: $graphState,\n});\n\nexport function AlgotitmResult() {\n  const graphState = useStore($graphState);\n\n  return (\n    <>\n      <h3 className=\"select-bar_info\">\n        Количество итераций: <span>{graphState?.count || 0}</span>\n      </h3>\n      <h3 className=\"select-bar_info\">\n        Время прохождения:\n        <span> {graphState?.timeEnd?.toFixed(4) || 0} ms</span>\n      </h3>\n      <h3 className=\"select-bar_info\">\n        Длина пути: <span>{graphState?.path?.length || 0}</span>\n      </h3>\n    </>\n  );\n}\n","export const code = `\n/*\nЧто бы работала визуализация, функция должна следовать общему api\n\n  type youAlgoritmFunction = (\n    startIndex: number,\n    endIndex: number,\n    graph: { [key: string]: { type: BarrierType , siblings: Array<number> } },\n    graphControll: Graph,\n  ) => {\n    path: Array<number>,\n    ...getAlgotitmResult\n  }\n\nМетод нужен, что бы каждую итерацию алгоритма сохранять его данные\n\n  type AlgoritmController = {\n    increment: () => void;\n    getAlgotitmResult: () => AlgoritmController;\n    addVertex: (\n      processing: Array<{vertex: number, siblings: number[]}>,\n      visited: number\n    ) => void;\n    count: number;\n    processing: Array<{vertex: number, siblings: number[]}>;\n    visited: number | null[];\n    startIndex: number;\n    endIndex: number;\n  }\n\n  const algoritmController = new AlgoritmController(startIndex: number, endIndex: number)\n\n  enum BarrierType {\n    START_POSITION = \"START_POSITION\",\n    END_POSITION = \"END_POSITION\",\n    BARIER = \"BARIER\",\n    EMPTY = \"EMPTY\",\n    VISITED = \"VISITED\",\n  };\n\nФункция restorePath восстановить путь, по переданному обьекту.\nСодержит путь от предыдущего к следующей вершине\n\n  type RestorePath = (\n    endIndex: number,\n    startIndex: number,\n    parent: { [key: string]: number }\n  ) => Array<number>\n\nCanVisitedVertex проверяет, можно ли прайти на указанную вершину\n\n  type CanVisitedVertex = (\n    vertex: { type: BarrierType , siblings: Array<number> }\n  ) => boolean\n*/\n\nconst { AlgoritmController, canVisitedVertex, restorePath } = utils\n\nfunction customAlgoritm(\n  startIndex,\n  endIndex,\n  graph,\n  graphControll,\n) {\n  let prevIndex = null;\n  let isWork = true;\n\n  const aInfo = new AlgoritmController(startIndex, endIndex);\n\n  const queue = [startIndex];\n  const visited = [startIndex];\n  const path = {};\n\n  while (isWork && queue.length > 0) {\n    const currentIndex = queue.shift();\n\n    if (currentIndex === undefined) {\n      isWork = false;\n      break;\n    }\n\n    aInfo.addVertex(\n      {\n        vertex: currentIndex,\n        siblings: graph[currentIndex].siblings,\n      },\n      prevIndex\n    );\n\n    for (let i = 0; i < graph[currentIndex].siblings.length; i++) {\n      const sibling = graph[currentIndex].siblings[i];\n\n      if (!sibling) {\n        isWork = false;\n        break;\n      }\n\n      const vertex = graphControll.getVertexByIndex(sibling.vertex);\n\n      if (\n        vertex &&\n        !visited.includes(sibling.vertex) &&\n        canVisitedVertex(vertex)\n      ) {\n        queue.push(sibling.vertex);\n        visited.push(sibling.vertex);\n        path[sibling.vertex] = currentIndex;\n\n        aInfo.increment();\n      }\n\n      if (sibling.vertex === endIndex) {\n        isWork = false;\n        break;\n      }\n    }\n\n    prevIndex = currentIndex;\n  }\n\n  const result = aInfo.getAlgotitmResult();\n  const restoredPath = restorePath(endIndex, startIndex, path);\n\n  return {\n    ...result,\n    path: restoredPath,\n  };\n}\n`;\n","import { createEvent, restore } from \"effector\";\n\nimport { code } from \"./code-string\";\n\nexport const handleChangeCode = createEvent<string>();\nexport const $code = restore(handleChangeCode, code);\n\nexport const $trimmedEditorCode = $code.map((it) => it.trim());\n","import React, { useCallback } from \"react\";\nimport { useStore } from \"effector-react\";\nimport AceEditor from \"react-ace\";\n\nimport {\n  addCustomAlgoritm,\n  AlgoritmController,\n  restorePath,\n  canVisitedVertex,\n} from \"../../../../algoritms\";\n\nimport { Button } from \"../../atoms\";\n\nimport { $trimmedEditorCode, handleChangeCode } from \"./model\";\n\nimport \"ace-builds/src-noconflict/mode-javascript\";\nimport \"ace-builds/src-noconflict/theme-tomorrow\";\n\nexport function CodeArea({ onRequestClose }: { onRequestClose: () => void }) {\n  const code = useStore($trimmedEditorCode);\n\n  const handleChangeAlgoritm = useCallback(() => {\n    try {\n      const customFunction = new Function(\n        \"utils\",\n        code.replace(\"function\", \"return function\")\n      )({ AlgoritmController, canVisitedVertex, restorePath });\n\n      addCustomAlgoritm(customFunction);\n    } catch (e) {\n      alert(e);\n    } finally {\n      onRequestClose();\n    }\n  }, [onRequestClose, code]);\n\n  return (\n    <>\n      <AceEditor\n        value={code}\n        onChange={(nextCode) => {\n          handleChangeCode(nextCode);\n        }}\n        style={{\n          width: \"100%\",\n          marginBottom: 30,\n        }}\n        mode=\"javascript\"\n        theme=\"tomorrow\"\n        name=\"UNIQUE_ID_OF_DIV\"\n        editorProps={{ $blockScrolling: true }}\n        fontSize={14}\n        showPrintMargin\n        showGutter\n        highlightActiveLine\n        setOptions={{\n          enableBasicAutocompletion: true,\n          enableLiveAutocompletion: false,\n          enableSnippets: true,\n          showLineNumbers: true,\n          tabSize: 2,\n        }}\n      />\n      <Button onClick={handleChangeAlgoritm}>Сохранить</Button>\n    </>\n  );\n}\n","import React from \"react\";\nimport { ModalWrapper } from \"gui/ui/molecules\";\nimport { CodeArea } from \"./code-area\";\n\nexport const CodeAreaModal = ({\n  isOpen,\n  setOpen,\n}: {\n  isOpen: boolean;\n  setOpen: (param: boolean) => void;\n}) => {\n  return (\n    <ModalWrapper\n      width={1100}\n      isOpen={isOpen}\n      onRequestClose={() => setOpen(false)}\n    >\n      <CodeArea onRequestClose={() => setOpen(false)} />\n    </ModalWrapper>\n  );\n};\n","import React, { useCallback, useReducer, useState } from \"react\";\nimport { useStore } from \"effector-react\";\nimport { combine } from \"effector\";\n\nimport {\n  $currentAlgoritm,\n  selectAlgoritm,\n  Algoritm,\n  $algoritms,\n} from \"../../../algoritms\";\n\nimport { AlgoritmsList } from \"../molecules\";\nimport { CodeAreaModal } from \"./code-area\";\n\nconst $state = combine({\n  currentAlgoritm: $currentAlgoritm,\n  algoritms: $algoritms,\n});\n\nexport function AlgoritmsBlock() {\n  const [isOpenCodeArea, setOpenCodeArea] = useState(false);\n  const [isOpenAlgoritmList, toggleAlgoritmList] = useReducer(\n    (state) => !state,\n    false\n  );\n\n  const { currentAlgoritm, algoritms } = useStore($state);\n\n  const handleChangeAlgoritm = useCallback((algoritm: Algoritm) => {\n    selectAlgoritm(algoritm.name);\n    toggleAlgoritmList();\n\n    if (algoritm.modal) {\n      setOpenCodeArea(true);\n    }\n  }, []);\n\n  return (\n    <>\n      <h2>Выбирите алгоритм:</h2>\n      <ul>\n        <li className=\"isActive\" onClick={toggleAlgoritmList}>\n          {currentAlgoritm}\n        </li>\n      </ul>\n\n      <AlgoritmsList\n        currentAlgoritm={currentAlgoritm}\n        isOpenAlgoritmList={isOpenAlgoritmList}\n        algoritms={algoritms}\n        handleChangeAlgoritm={handleChangeAlgoritm}\n      />\n\n      <CodeAreaModal isOpen={isOpenCodeArea} setOpen={setOpenCodeArea} />\n    </>\n  );\n}\n","import React from \"react\";\nimport DraggableDefault from \"react-draggable\";\nimport { combine } from \"effector\";\nimport { useStore } from \"effector-react\";\nimport { TextField } from \"@material-ui/core\";\nimport { setTimer, $currentTimer } from \"../../../game\";\nimport { $canMoveDiagonal, changeDirection } from \"../../../graph\";\nimport { SelectBarrierType } from \"../molecules\";\nimport { Left, FlexContainer } from \"../templates\";\nimport { Switch } from \"../atoms\";\nimport { GameControllButtons } from \"./game-controll-buttons\";\nimport { AlgotitmResult } from \"./algoritm-result\";\nimport { AlgoritmsBlock } from \"./algoritms\";\n\nconst $state = combine({\n  currentTimer: $currentTimer,\n  canMoveDiagonal: $canMoveDiagonal,\n});\n\nexport function RightSideBar() {\n  const { currentTimer, canMoveDiagonal } = useStore($state);\n\n  return (\n    <DraggableDefault>\n      <div className=\"select-bar\">\n        <h2 className=\"select-bar_title\">Информация:</h2>\n        <AlgotitmResult />\n        <AlgoritmsBlock />\n        <GameControllButtons />\n        <div className=\"info-wrapper\" style={{ borderTop: \"2px solid #fff\" }}>\n          <FlexContainer>\n            <Left>\n              <TextField\n                type=\"number\"\n                value={currentTimer}\n                onChange={({ target }) => {\n                  setTimer(parseInt(target.value));\n                }}\n              />\n            </Left>\n            <h3 className=\"select-bar_info\">Скорость</h3>\n          </FlexContainer>\n\n          <Switch\n            checked={canMoveDiagonal}\n            onChange={changeDirection}\n            label=\"Проход по диагонали\"\n          />\n          <SelectBarrierType />\n        </div>\n      </div>\n    </DraggableDefault>\n  );\n}\n","import React, { useLayoutEffect } from \"react\";\nimport { renderCanvas } from \"./canvas\";\nimport { InfoDraggable } from \"./gui/ui/organisms/info-block\";\nimport { RightSideBar } from \"./gui/ui/organisms/right-side-bar\";\n\nimport \"./styles.css\";\n\nexport default function App() {\n  useLayoutEffect(() => {\n    const canvas = document.querySelector(\"canvas\");\n\n    if (canvas) {\n      const context = canvas.getContext(\"2d\");\n\n      if (context) {\n        renderCanvas(canvas, context);\n      }\n    }\n  }, []);\n\n  return (\n    <>\n      <RightSideBar />\n      <InfoDraggable />\n    </>\n  );\n}\n","import { createGlobalStyle, css } from \"styled-components\";\nimport {\n  StyledRootWrapper,\n  StyledInner,\n} from \"./gui/ui/molecules/modal-wrapper\";\n\nconst globalCss = css`\n  .ReactModal__Body--open {\n    overflow: hidden;\n  }\n\n  .ReactModal__Content--after-open {\n    border: none !important;\n    background: transparent !important;\n    ${StyledInner} {\n      overflow: hidden;\n      opacity: 1;\n      transform: translateX(0);\n    }\n  }\n  .ReactModal__Content--before-close {\n    ${StyledInner} {\n      transform: translateX(100px);\n      opacity: 0;\n    }\n  }\n  .ReactModal__Overlay--after-open {\n    background-color: transparent !important;\n    ${StyledRootWrapper} {\n      opacity: 1;\n    }\n  }\n  .ReactModal__Overlay--before-close {\n    ${StyledRootWrapper} {\n      opacity: 0;\n    }\n  }\n\n  .MuiInputBase-input {\n    color: #fff;\n  }\n\n  .MuiInput-underline:before,\n  .MuiInput-underline:after {\n    border-bottom: 1px solid #fff;\n  }\n`;\nexport const GlobalModalStyles = createGlobalStyle`${globalCss}`;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { GlobalModalStyles } from \"./global-css\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <>\n    <App />\n    <GlobalModalStyles />\n  </>,\n  rootElement\n);\n"],"sourceRoot":""}