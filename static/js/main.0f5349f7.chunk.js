(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(24)},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(12),a=n.n(o),u=n(7),c=n(14),s=n.n(c),l=n(2),f=n(0),h=35,d=window.innerWidth,v=window.innerHeight,g=.5,b={borderColor:"#000",blockColor:"#bbbbbb",startEndColor:["green","red"]},p={START_POSITION:"START_POSITION",END_POSITION:"END_POSITION",BARIER:"BARIER",EMPTY:"EMPTY",VISITED:"VISITED"};function m(e,t){return{w:Math.floor(e/h),h:Math.floor(t/h)}}function E(e,t){return{w:Math.floor(e*h),h:Math.floor(t*h)}}function O(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return[n*h,r*h]}function w(e){var t=e.color,n=void 0===t?"rgb(152, 251, 152)":t,r=e.position,i=e.context,o=e.width,a=O(r),u=Object(l.a)(a,2),c=u[0],s=u[1],f=o||h-2*g;i.fillStyle=n,i.fillRect(c+2*g,s+2*g,f,f)}function j(e){var t=Object(l.a)(e,2),n=t[0];return t[1]*m(d,v).w+n}function k(e){var t=m(d,v).w,n=Math.floor(e/t);return[e-n*t,n]}var T=n(4),y=n(5),S=n(3);function x(e){var t,n=Object(l.a)(e.position,2),r=n[0],i=n[1],o=e.width,a=e.scale,u=void 0===a?.3:a;o<h?(t=requestAnimationFrame(function(){return x(Object(S.a)({},e,{width:o,scale:u}))}),w(Object(S.a)({},e,{position:[r+u,i+u]})),u>0&&o%5===0&&(u-=.1),o++):cancelAnimationFrame(t)}function A(e){var t,n=e.width,r=void 0===n?h-10:n;r<h?(t=requestAnimationFrame(function(){return A(Object(S.a)({},e,{width:r}))}),function(e){var t=e.color,n=void 0===t?"#e84a4a":t,r=e.position,i=e.context,o=O(r),a=Object(l.a)(o,2),u=a[0],c=a[1];i.strokeStyle=n,i.beginPath(),i.moveTo(u+10,c+10),i.lineTo(u+h-10,c+h-10),i.stroke(),i.beginPath(),i.moveTo(u+h-10,c+10),i.lineTo(u+10,c+h-10),i.stroke()}(Object(S.a)({},e,{width:r})),r++):(w(Object(S.a)({},e,{color:"#fff",width:0})),cancelAnimationFrame(t))}var R=function(){function e(t){Object(T.a)(this,e),this.index=t,this.canDrawe=!1,this.context=null,this.canRemove=!1,this.position=!1}return Object(y.a)(e,[{key:"getBarier",value:function(){return this}},{key:"getIndex",value:function(){return this.index}},{key:"render",value:function(e){this.context=e,this.position=k(this.index),this.canRemove||(this.canDrawe?w({position:this.position,context:e,color:b.blockColor}):x({position:this.position,context:e,color:b.blockColor,width:20}),this.canDrawe=!0)}},{key:"remove",value:function(){this.canRemove=!0,A({position:this.position,context:this.context})}}]),e}(),M=new(function(){function e(t){var n=t.w,r=t.h;Object(T.a)(this,e),this.graph={},this.cellCount=n*r,this.lastIndex=null}return Object(y.a)(e,[{key:"createGraph",value:function(){this.clear();for(var e=0;e<this.cellCount;e++)this.graph[e]={type:p.EMPTY,siblings:this.getSiblings(e).filter(function(e){return"undefined"!==typeof e})};return this}},{key:"getVertexByIndex",value:function(e){return this.graph[e]}},{key:"updateGraph",value:function(e){var t=e.index,n=e.type;this.graph[t]&&(this.graph[t]=Object(S.a)({},this.graph[t],{type:n}),n===p.BARIER&&(this.graph[t]=Object(S.a)({},this.graph[t],{type:n,siblings:[]})))}},{key:"getSiblings",value:function(e){var t=this.getLeftSibling(e),n=this.getTopSibling(e),r=this.getRightSibling(e),i=this.getDownSibling(e);this.getTopLeftDiagonal(n,t),this.getTopRightDiagonal(n,r),this.getBotRightDiagonal(i,r),this.getBotLeftDiagonal(i,t);return[t,n,r,i]}},{key:"getTopLeftDiagonal",value:function(e,t){if(e>=0&&t>=0)return e-1}},{key:"getTopRightDiagonal",value:function(e,t){if(e>=0&&t>=0)return e+1}},{key:"getBotLeftDiagonal",value:function(e,t){if(e>=0&&t>=0)return e-1}},{key:"getBotRightDiagonal",value:function(e,t){if(e>=0&&t)return e+1}},{key:"getBottomDiagonal",value:function(e){return[e-1,e+1]}},{key:"getDownSibling",value:function(e){var t=m(d,v),n=t.w,r=t.h;if(Math.floor(e/n)<r-1)return e+n}},{key:"getTopSibling",value:function(e){var t=m(d,v).w;if(Math.floor(e/t)>0)return e-t}},{key:"getRightSibling",value:function(e){var t=m(d,v).w;if(e%t<t-1)return e+1}},{key:"getLeftSibling",value:function(e){if(e%m(d,v).w>0)return e-1}},{key:"getGraph",value:function(){return this.graph}},{key:"clear",value:function(){return this.graph={},this}}]),e}())(m(d,v)),I=n(6);function P(e,t){t.forEach(function(t){e.updateGraph({index:t.getIndex(),type:p.BARIER})})}function C(e,t){e.updateGraph({index:t,type:p.START_POSITION})}function D(e,t){e.updateGraph({index:t,type:p.END_POSITION})}var N=Object(f.e)("graph"),L=N.event(),V=N.event(),B=N.event(),G=N.event(),_=N.event(),F=N.event(),U=N.store([0,110]),$=N.store([]);N.onCreateStore(function(e){return e.reset(L)});var Y=Object(f.j)({source:Object(f.o)({source:$,clock:G,fn:function(e,t){return e.find(function(e){return e.getIndex()===t})}}),filter:Boolean});Y.watch(function(e){return e.remove()}),$.on(B,function(e,t){var n=new R(t);return e.find(function(e){return e.getIndex()===t})?e:[].concat(Object(I.a)(e),[n])}).on(Y,function(e,t){return e.filter(function(e){return e!==t})}),U.on(_,function(e,t){return[t,e[1]]}).on(F,function(e,t){return[e[0],t]});var W=Object(f.c)({barrier:$,startEndPosition:U}).map(function(e){var t=Object(l.a)(e.startEndPosition,2),n=t[0],r=t[1],i=M.createGraph();return P(i,e.barrier),C(i,n),D(i,r),Object(S.a)({},e,{graph:i.graph})}),q=function(e){return e.type!==p.BARIER};function X(e,t,n){for(var r=[],i=n[e];i&&i!==t;)r.unshift(i),i=n[i];return r.length>0&&r.push(e),r.unshift(t),r}function J(e){return e.reduce(function(e,t){return e.push(t.filter(function(t){return!e.some(function(e){return e.includes(t)})})),e},[])}var H=function(){function e(t,n){Object(T.a)(this,e),this.count=0,this.processing=[],this.visited=[],this.startIndex=t,this.endIndex=n}return Object(y.a)(e,[{key:"increment",value:function(){this.count++}},{key:"addVertex",value:function(e,t){this.processing.push(e),this.visited.push(t)}},{key:"getAlgotitmResult",value:function(){return this}}]),e}();function z(e,t,n){for(var r=new H(e,t),i=null,o=!0,a=[e],u=[e],c={};o&&a.length>0;){var s=a.shift();r.addVertex({vertex:s,siblings:n[s].siblings},i);for(var l=0;l<n[s].siblings.length;l++){var f=n[s].siblings[l],h=M.getVertexByIndex(f);if(!u.includes(f)&&q(h)&&(a.push(f),u.push(f),c[f]=s,r.increment()),i=s,f===t){o=!1;break}}}var d=r.getAlgotitmResult(),v=X(t,e,c);return Object(S.a)({path:v},d)}function K(e,t,n){for(var r=new H(e,t),i=!0,o=[e],a=[],u={},c=null;i&&o.length>0;){var s=o.shift();r.addVertex({vertex:s,siblings:n[s].siblings},c);for(var l=0;l<n[s].siblings.length;l++){var f=n[s].siblings[l],h=M.getVertexByIndex(f);if(!a.includes(f)&&q(h)&&(o.unshift(f),a.push(f),u[f]=s,r.increment()),f===t){i=!1;break}}c=s}var d=r.getAlgotitmResult(),v=X(t,e,u);return Object(S.a)({path:v},d)}var Q=Object(f.e)(),Z=Object(f.g)(),ee=Object(f.g)(),te=Object(f.g)(),ne=Object(f.n)(Z,"bredth first search"),re=Q.store([]),ie=Q.store({vertex:0,siblings:[]});re.on(ee,function(e,t){return[].concat(Object(I.a)(e),[t])}),ie.on(te,function(e,t){return t});var oe=Object(f.h)([{searchFunction:z,name:"bredth first search"},{searchFunction:K,name:"depth first search"}]),ae=Object(f.c)(ne,oe,function(e,t){return t.find(function(t){return t.name===e})});Q.onCreateStore(function(e){return e.reset(V,L)}),Z.watch(function(){return se(ue.END_GAME)});var ue={START:"START",RESTART:"RESTART",PAUSE:"PAUSE",RESUME:"RESUME",CLEAR:"CLEAR",END_GAME:"END_GAME"},ce=Object(f.e)("game"),se=ce.event(),le=ce.event(),fe=ce.store({}).reset(L,V),he=Object(f.n)(le,16).reset(L),de=Object(f.n)(se,ue.END_GAME).reset(L),ve=Object(f.j)({source:de,filter:de.map(function(e){return e===ue.START})});Object(f.j)({source:de,filter:de.map(function(e){return e===ue.CLEAR}),target:L}),Object(f.j)({source:de,filter:de.map(function(e){return e===ue.START}),target:V});var ge=Object(f.j)({source:de,filter:de.map(function(e){return e===ue.END_GAME})});Object(f.o)({source:{graph:W,algoritm:ae},clock:ve,target:fe,fn:function(e){var t=e.graph,n=e.algoritm,r=Object(l.a)(t.startEndPosition,2),i=r[0],o=r[1],a=window.performance.now(),u=n.searchFunction(i,o,t.graph),c=window.performance.now()-a;return Object(S.a)({},u,{timeEnd:c})}}),W.watch(V);var be=Object(f.f)().use(function(e){return new Promise(function(t){return setTimeout(t,1e3/e)})});function pe(e,t){var n=Object(f.h)(0).reset(V,L),r=Object(f.a)({effect:be,source:he,mapParams:function(e,t){return t}}),i=Object(f.c)(e,n,function(e,t){return{state:e,animationCount:t}});n.on(r.done,function(e){return e+1}),Object(f.o)(i,r).watch(function(e){me(e,t)}),Object(f.j)({source:ve,filter:de.map(function(e){return e===ue.START}),target:r}),Object(f.j)({source:r.done,filter:de.map(function(e){return e===ue.START}),target:r})}function me(e,t){var n=e.animationCount,r=e.state,i=r.processing;n<i.length?(te(i[n]),i[n-1]&&ee(i[n-1].vertex)):(se(ue.END_GAME),function(e){for(var t=e.context,n=e.path,r=void 0===n?[]:n,i=e.color,o=void 0===i?"green":i,a=0;a<r.length;a++){var u=k(r[a]),c=O(u),s=Object(l.a)(c,2),f=s[0],d=s[1];xe&&(t.beginPath(),t.strokeStyle=o,t.lineWidth=2,t.moveTo(xe[0],xe[1]),t.lineTo(f+h/2,d+h/2),t.stroke()),xe=[f+h/2,d+h/2]}xe=null}({path:r.path,context:t}))}function Ee(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.some(function(t){return e===t})}function Oe(e,t,n){var r=k(e),i=Object(l.a)(r,2);w({position:[i[0],i[1]],context:t,color:n})}function we(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000",r=0;r<e.length;r++){var i=k(e[r]),o=Object(l.a)(i,2);w({position:[o[0],o[1]],context:t,color:n})}}var je=new(function(){function e(){Object(T.a)(this,e),this.isMouseDown=!1,this.isMouseMove=!1,this.listeners=[],this.state={},this.lastIndex=null,this.disabledListeners=[]}return Object(y.a)(e,[{key:"init",value:function(){var e=this;return de.watch(function(t){Ee(t,ue.START,ue.PAUSE,ue.RESUME)?e.disabledListener():e.includeListener()}),this}},{key:"registerClickEventToCanvas",value:function(e){var t=this;e.addEventListener("mousedown",function(e){t.listeners.filter(function(e){return"mousedown"===e.type}).forEach(function(e){return e.eventListener()}),t.isMouseDown=!0,t.isMouseMove=!1}),e.addEventListener("mouseup",function(e){t.isMouseDown=!1,t.listeners.filter(function(e){return"mouseup"===e.type}).forEach(function(n){return n.eventListener(e,t.state)})}),e.addEventListener("click",function(e){t.listeners.filter(function(e){return"click"===e.type}).forEach(function(n){t.isMouseMove||n.eventListener(e,t.state)})}),e.addEventListener("mousemove",function(e){var n=function(e){var t=m(e.clientX,e.clientY);return j([t.w,t.h])}(e);t.isMouseDown&&n!==t.lastIndex&&(t.lastIndex=n,t.isMouseMove=!0,t.listeners.filter(function(e){return"mousemove"===e.type}).forEach(function(n){return n.eventListener(e,t.state,t.lastIndex)}))})}},{key:"disabledListener",value:function(){this.clear()}},{key:"includeListener",value:function(){this.listeners=this.disabledListeners}},{key:"addMouseDownEvent",value:function(e){this.listeners.push({type:"mousedown",eventListener:e})}},{key:"addMouseUpEvent",value:function(e){this.listeners.push({type:"mouseup",eventListener:e})}},{key:"addMouseMoveEvent",value:function(e){this.listeners.push({type:"mousemove",eventListener:e})}},{key:"addMouseClickEvent",value:function(e){this.listeners.push({type:"click",eventListener:e})}},{key:"setState",value:function(e){return this.state=e,this}},{key:"clear",value:function(){this.listeners.length>0&&(this.disabledListeners=this.listeners,this.isMouseDown=!1,this.isMouseMove=!1,this.listeners=[],this.lastIndex=null)}}]),e}());je.init();Object(f.c)({gameState:de,path:fe});var ke=Object(f.c)({visitedVertex:re,graph:W,processedVertex:ie});function Te(e,t){var n=m(e.clientX,e.clientY),r=j([n.w,n.h]),i=Object(l.a)(t.startEndPosition,2),o=i[0],a=i[1];return{renderForMove:function(){r!==o&&r!==a&&B(r)},renderForClick:function(){r!==o&&r!==a&&G(r)}}}var ye=null;function Se(e){var t=m(e.clientX,e.clientY),n=j([t.w,t.h]),r=W.getState();switch(ye||(ye=r.graph[n].type),ye){case p.BARIER:return Te(e,r).renderForClick();case p.START_POSITION:return function(e,t){var n=t.barrier.find(function(t){return t.index===e}),r=Object(l.a)(t.startEndPosition,2)[1];n||e===r||_(e)}(n,r);case p.END_POSITION:return function(e,t){var n=t.barrier.find(function(t){return t.index===e}),r=Object(l.a)(t.startEndPosition,1)[0];n||e===r||F(e)}(n,r);case p.EMPTY:return Te(e,r).renderForMove()}}var xe=null;var Ae=document.getElementById("viewport");if(Ae){var Re=Ae.getContext("2d");!function(e,t){var n=m(d,v),r=E(n.w,n.h),i=function(e){for(var t=new Path2D,n=m(d,v),r=E(n.w,n.h),i=0;i<=n.w;i++)t.moveTo(i*h+g,0),t.lineTo(i*h+g,r.h);for(var o=0;o<=n.h;o++)t.moveTo(0,o*h+g),t.lineTo(r.w,o*h+g);return{grid:t,applyStyles:function(){e.lineWidth=g,e.strokeStyle=b.borderColor}}}(t);function o(n){var r=n.graph,o=n.visitedVertex,a=n.processedVertex;!function(e,t){e.clearRect(0,0,t.width,t.height)}(t,e),je.setState(r),we(a.siblings,t,"#d2ef99"),Oe(a.vertex,t,"#f3fc23"),we(o,t,"#00bcd4"),function(e,t){for(var n=0;n<e.length;n++)w({position:k(e[n]),context:t,color:b.startEndColor[n]})}(r.startEndPosition,t),function(e,t){for(var n=0;n<e.length;n++)e[n].render(t)}(r.barrier,t),i.applyStyles(),t.stroke(i.grid)}!function(e,t){var n=t.w,r=t.h;e.height=r,e.width=n}(e,r),je.registerClickEventToCanvas(e),je.addMouseMoveEvent(Se),je.addMouseUpEvent(function(){return ye=null}),je.addMouseClickEvent(function(e,t){return Te(e,t).renderForClick()}),ke.watch(o),Object(f.o)({source:ke,clock:Object(f.m)([L,V])}).watch(o),pe(fe,t)}(Ae,Re)}n(23);var Me=Object(f.h)({});function Ie(){var e,t,n=Object(u.a)(oe),r=Object(u.a)(ne),o=Object(u.a)(de),a=Object(u.a)(Me),c=Object(u.a)(he);return i.a.createElement("div",{className:"App"},i.a.createElement(s.a,null,i.a.createElement("div",{className:"select-bar"},i.a.createElement("h2",{className:"select-bar_title"},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),i.a.createElement("div",{className:"info-wrapper"},i.a.createElement("h3",{className:"select-bar_info"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0439: ",i.a.createElement("span",null,(null===a||void 0===a?void 0:a.count)||0)),i.a.createElement("h3",{className:"select-bar_info"},"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f:",i.a.createElement("span",null," ",(null===a||void 0===a?void 0:null===(e=a.timeEnd)||void 0===e?void 0:e.toFixed(4))||0," ms")),i.a.createElement("h3",{className:"select-bar_info"},"\u0414\u043b\u0438\u043d\u0430 \u043f\u0443\u0442\u0438: ",i.a.createElement("span",null,(null===a||void 0===a?void 0:null===(t=a.path)||void 0===t?void 0:t.length)||0))),i.a.createElement("h2",{className:"select-bar_title"},"\u0412\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c:"),i.a.createElement("ul",null,n.map(function(e,t){return i.a.createElement("li",{onClick:function(){return Z(e.name)},className:r===e.name?"isActive":"",key:e.name},e.name)})),i.a.createElement("div",{className:"btn-wrapper"},i.a.createElement("button",{className:"btn",onClick:function(){return se(ue.START)}},"\u0421\u0442\u0430\u0440\u0442"),Ee(o,ue.START,ue.PAUSE,ue.RESUME)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"btn",onClick:function(){return se(ue.PAUSE)}},"\u041f\u0430\u0443\u0437\u0430"),i.a.createElement("button",{className:"btn",onClick:function(){return se(ue.RESUME)}},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")),i.a.createElement("button",{className:"btn",onClick:function(){return se(ue.CLEAR)}},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c")),i.a.createElement("div",{className:"info-wrapper"},i.a.createElement("h3",{className:"select-bar_info"},"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: ",i.a.createElement("span",null,c)),i.a.createElement("input",{type:"number",value:c,max:"20",min:"1",maxLength:"2",onChange:function(e){var t=e.target;le(parseInt(t.value))}})))))}Object(f.o)({source:fe,clock:ge,target:Me}),n.d(t,"selectAlgoritm",function(){return Z}),n.d(t,"addVisitedVertex",function(){return ee}),n.d(t,"addProcessedVertex",function(){return te}),n.d(t,"$currentAlgoritm",function(){return ne}),n.d(t,"$visitedVertex",function(){return re}),n.d(t,"$processedVertex",function(){return ie}),n.d(t,"$algoritms",function(){return oe}),n.d(t,"$searchAlgoritm",function(){return ae}),n.d(t,"canVisitedVertex",function(){return q}),n.d(t,"restorePath",function(){return X}),n.d(t,"removeDoubleVertex",function(){return J}),n.d(t,"breadthFirstSearch",function(){return z}),n.d(t,"depthFirstSearch",function(){return K}),n.d(t,"graphControll",function(){return M}),n.d(t,"resetStore",function(){return L}),n.d(t,"clearCanvas",function(){return V}),n.d(t,"setBarrier",function(){return B}),n.d(t,"removeBarrierItem",function(){return G}),n.d(t,"triggerStartPosition",function(){return _}),n.d(t,"triggerEndPosition",function(){return F}),n.d(t,"$startEndPosition",function(){return U}),n.d(t,"$barriers",function(){return $}),n.d(t,"removedBarrier",function(){return Y}),n.d(t,"$graph",function(){return W}),n.d(t,"setBarrierToGraph",function(){return P}),n.d(t,"setStartPositionToGraph",function(){return C}),n.d(t,"setEndPositionToGraph",function(){return D}),n.d(t,"drawSquareWithAnimation",function(){return x}),n.d(t,"drawMarkerWithAnimation",function(){return A}),n.d(t,"Barier",function(){return R}),n.d(t,"createTick",function(){return pe}),n.d(t,"animatedVisitedVertex",function(){return me}),n.d(t,"gameStatus",function(){return ue}),n.d(t,"setGameStatus",function(){return se}),n.d(t,"setTimer",function(){return le}),n.d(t,"$path",function(){return fe}),n.d(t,"$currentTimer",function(){return he}),n.d(t,"$gameState",function(){return de}),n.d(t,"startGame",function(){return ve}),n.d(t,"endGame",function(){return ge}),n.d(t,"checkGameStatus",function(){return Ee}),n.d(t,"renderVisitedVertex",function(){return Oe}),n.d(t,"renderVisitedVertexByArr",function(){return we});var Pe=document.getElementById("root");a.a.render(i.a.createElement(Ie,null),Pe)}},[[16,1,2]]]);
//# sourceMappingURL=main.0f5349f7.chunk.js.map