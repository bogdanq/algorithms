(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(24)},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(13),a=n.n(o),u=n(10),c=n(15),s=n(2),l=n(0),f=35,h=window.innerWidth,d=window.innerHeight,v=.5,m={borderColor:"#000",blockColor:"#8080805c",startEndColor:["green","red"]},b={START_POSITION:"START_POSITION",END_POSITION:"END_POSITION",BARIER:"BARIER",EMPTY:"EMPTY",VISITED:"VISITED"};function g(e,t){return{w:Math.floor(e/f),h:Math.floor(t/f)}}function p(e,t){return{w:Math.floor(e*f),h:Math.floor(t*f)}}function E(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return[n*f,r*f]}function O(e){var t=e.color,n=void 0===t?"rgb(152, 251, 152)":t,r=e.position,i=e.context,o=E(r),a=Object(s.a)(o,2),u=a[0],c=a[1],l=f-2*v;i.fillStyle=n,i.fillRect(u+2*v,c+2*v,l,l)}function S(e){var t=Object(s.a)(e,2),n=t[0];return t[1]*g(h,d).w+n}function w(e){var t=g(h,d).w,n=Math.floor(e/t);return[e-n*t,n]}var y=n(4),T=n(5),A=n(6),k=new(function(){function e(t){var n=t.w,r=t.h;Object(y.a)(this,e),this.graph={},this.cellCount=n*r,this.lastIndex=null}return Object(T.a)(e,[{key:"createGraph",value:function(){this.clear();for(var e=0;e<this.cellCount;e++)this.graph[e]={type:b.EMPTY,siblings:[this.getLeftSibling(e),this.getTopSibling(e),this.getRightSibling(e),this.getDownSibling(e)].filter(function(e){return"undefined"!==typeof e})};return this}},{key:"getVertexByIndex",value:function(e){return this.graph[e]}},{key:"updateGraph",value:function(e){var t=e.index,n=e.type;this.graph[t]&&(this.graph[t]=Object(A.a)({},this.graph[t],{type:n}),n===b.BARIER&&(this.graph[t]=Object(A.a)({},this.graph[t],{type:n,siblings:[]})))}},{key:"getDownSibling",value:function(e){var t=g(h,d),n=t.w,r=t.h;if(Math.floor(e/n)<r-1)return e+n}},{key:"getTopSibling",value:function(e){var t=g(h,d).w;if(Math.floor(e/t)>0)return e-t}},{key:"getRightSibling",value:function(e){var t=g(h,d).w;if(e%t<t-1)return e+1}},{key:"getLeftSibling",value:function(e){if(e%g(h,d).w>0)return e-1}},{key:"getGraph",value:function(){return this.graph}},{key:"clear",value:function(){return this.graph={},this}}]),e}())(g(h,d)),j=n(3);function I(e,t){t.forEach(function(t){e.updateGraph({index:t,type:b.BARIER})})}function M(e,t){e.updateGraph({index:t,type:b.START_POSITION})}function x(e,t){e.updateGraph({index:t,type:b.END_POSITION})}var R=Object(l.d)("graph"),C=R.event(),P=R.event(),D=R.event(),N=R.event(),L=R.event(),G=R.event(),V=R.store([0,10]),_=R.store([]);R.onCreateStore(function(e){return e.reset(C)}),_.on(D,function(e,t){return e.includes(t)?e:[].concat(Object(j.a)(e),[t])}).on(N,function(e,t){return e.filter(function(e){return e!==t})}),V.on(L,function(e,t){return[t,e[1]]}).on(G,function(e,t){return[e[0],t]});var B=Object(l.b)({barrier:_,startEndPosition:V}).map(function(e){var t=Object(s.a)(e.startEndPosition,2),n=t[0],r=t[1],i=k.createGraph();return I(i,e.barrier),M(i,n),x(i,r),Object(A.a)({},e,{graph:i.graph})}),F=n(7),U=function(e){return e.type!==b.BARIER};function $(e,t,n){for(var r=[],i=n[e];i&&i!==t;)r.unshift(i),i=n[i];return r.length>0&&r.push(e),r.unshift(t),r}function Y(){var e=[];return function(t){var n=t.filter(function(t){return!e.includes(t)});return e.push.apply(e,Object(j.a)(n)),n}}function q(e,t,n){for(var r=ae(),i=Y(),o=Y(),a=0,u=!0,c=[e],s=[e],l={};u&&c.length>0;){var f=c.shift();r.setVertex({data:o(s),name:"visited"});for(var h=0;h<n[f].siblings.length;h++){var d=n[f].siblings[h],v=k.getVertexByIndex(d);if(!s.includes(d)&&U(v)&&(c.push(d),s.push(d),l[d]=f,a++),d===t){u=!1;break}}r.setVertex({data:i(c),name:"queue"})}return r.setDrowAnimated(a),$(t,e,l)}function W(e,t,n){for(var r=ae(),i=Y(),o=Y(),a=0,u=!0,c=[e],s=[e],l={};u&&c.length>0;){var f=c.shift();r.setVertex({data:o(s),name:"visited"});for(var h=0;h<n[f].siblings.length;h++){var d=n[f].siblings[h],v=k.getVertexByIndex(d);if(!s.includes(d)&&U(v)&&(c.unshift(d),s.push(d),l[d]=f,a++),d===t){u=!1;break}}r.setVertex({data:i(c),name:"queue"})}return r.setDrowAnimated(a),$(t,e,l)}var X=Object(l.d)(),J=Object(l.e)(),H=Object(l.e)(),z=Object(l.e)(),K=Object(l.e)(),Q=Object(l.e)(),Z=X.store(0).on(Q,function(e,t){return t}),ee=X.store(!1).on(K,function(){return!0}),te=Object(l.l)(J,"bredth first search"),ne=X.store({queue:[],visited:[]}).on(z,function(e,t){var n=t.data,r=t.name;return Object(A.a)({},e,Object(F.a)({},r,[].concat(Object(j.a)(e[r]),[n])))}),re=X.store(0).on(H,function(e){return e+1}),ie=Object(l.f)([{searchFunction:q,name:"bredth first search"},{searchFunction:W,name:"depth first search"}]),oe=Object(l.b)(te,ie,function(e,t){return t.find(function(t){return t.name===e})}),ae=function(){return{setDrowAnimated:function(e){K(),Q(e)},setVertex:function(e){z(e),H()}}};X.onCreateStore(function(e){return e.reset(P,C)}),J.watch(function(){return se(ue.END_GAME)});var ue={START:"START",RESTART:"RESTART",PAUSE:"PAUSE",RESUME:"RESUME",CLEAR:"CLEAR",END_GAME:"END_GAME"},ce=Object(l.d)("game"),se=ce.event(),le=ce.store([]).reset(C,P),fe=Object(l.l)(se,ue.END_GAME).reset(C),he=Object(l.h)({source:fe,filter:fe.map(function(e){return e===ue.START})});Object(l.h)({source:fe,filter:fe.map(function(e){return e===ue.CLEAR}),target:C});var de=Object(l.h)({source:fe,filter:fe.map(function(e){return e===ue.END_GAME})});function ve(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.some(function(t){return e===t})}Object(l.m)({source:{graph:B,algoritm:oe},clock:he,target:le,fn:function(e){var t=e.graph,n=e.algoritm,r=Object(s.a)(t.startEndPosition,2),i=r[0],o=r[1];return P(),n.searchFunction(i,o,t.graph)}});var me=new(function(){function e(){Object(y.a)(this,e),this.isMouseDown=!1,this.isMouseMove=!1,this.listeners=[],this.state={},this.lastIndex=null,this.disabledListeners=[]}return Object(T.a)(e,[{key:"init",value:function(){var e=this;return fe.watch(function(t){ve(t,ue.START,ue.PAUSE,ue.RESUME)?e.disabledListener():e.includeListener()}),this}},{key:"registerClickEventToCanvas",value:function(e){var t=this;e.addEventListener("mousedown",function(e){t.listeners.filter(function(e){return"mousedown"===e.type}).forEach(function(e){return e.eventListener()}),t.isMouseDown=!0,t.isMouseMove=!1}),e.addEventListener("mouseup",function(e){t.isMouseDown=!1,t.listeners.filter(function(e){return"mouseup"===e.type}).forEach(function(n){return n.eventListener(e,t.state)})}),e.addEventListener("click",function(e){t.listeners.filter(function(e){return"click"===e.type}).forEach(function(n){t.isMouseMove||n.eventListener(e,t.state)})}),e.addEventListener("mousemove",function(e){var n=function(e){var t=g(e.clientX,e.clientY);return S([t.w,t.h])}(e);t.isMouseDown&&n!==t.lastIndex&&(t.lastIndex=n,t.isMouseMove=!0,t.listeners.filter(function(e){return"mousemove"===e.type}).forEach(function(n){return n.eventListener(e,t.state,t.lastIndex)}))})}},{key:"disabledListener",value:function(){this.clear()}},{key:"includeListener",value:function(){this.listeners=this.disabledListeners}},{key:"addMouseDownEvent",value:function(e){this.listeners.push({type:"mousedown",eventListener:e})}},{key:"addMouseUpEvent",value:function(e){this.listeners.push({type:"mouseup",eventListener:e})}},{key:"addMouseMoveEvent",value:function(e){this.listeners.push({type:"mousemove",eventListener:e})}},{key:"addMouseClickEvent",value:function(e){this.listeners.push({type:"click",eventListener:e})}},{key:"setState",value:function(e){return this.state=e,this}},{key:"clear",value:function(){this.listeners.length>0&&(this.disabledListeners=this.listeners,this.isMouseDown=!1,this.isMouseMove=!1,this.listeners=[],this.lastIndex=null)}}]),e}());me.init();var be=new(function(){function e(){Object(y.a)(this,e),this.count=1,this.animateId=null}return Object(T.a)(e,[{key:"start",value:function(e,t){var n=this,r=e.traversedVertexes,i=e.vertexesCount,o=fe.getState();(clearTimeout(this.animateId),o!==ue.END_GAME)&&(o!==ue.PAUSE?this.count<r.visited.length?(pe(r.visited[this.count],t,"#afeeee"),this.count<r.visited.length-1&&pe(r.queue[this.count],t,"rgb(152, 251, 152)"),this.animateId=setInterval(function(){return n.start({traversedVertexes:r,vertexesCount:i},t)},50),P.watch(function(){return clearTimeout(n.animateId)}),this.count++):(se(ue.END_GAME),this.clear(),function(e){for(var t=e.context,n=e.path,r=void 0===n?[]:n,i=e.color,o=void 0===i?"green":i,a=0;a<r.length;a++){var u=w(r[a]),c=E(u),l=Object(s.a)(c,2),h=l[0],d=l[1];we&&(t.beginPath(),t.strokeStyle=o,t.lineWidth=2,t.moveTo(we[0],we[1]),t.lineTo(h+f/2,d+f/2),t.stroke()),we=[h+f/2,d+f/2]}we=null}({path:le.getState(),context:t})):cancelAnimationFrame(this.animateId))}},{key:"clear",value:function(){this.count=1,this.animateId=null}},{key:"removeAnimation",value:function(){cancelAnimationFrame(this.animateId)}}]),e}()),ge=Object(l.b)({canDrowAnimated:ee,traversedVertexes:ne,vertexesCount:re,gameState:fe});function pe(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.blockColor,r=0;r<e.length;r++){var i=w(e[r]),o=Object(s.a)(i,2);O({position:[o[0],o[1]],context:t,color:n})}}function Ee(e,t){var n=g(e.clientX,e.clientY),r=S([n.w,n.h]),i=Object(s.a)(t.startEndPosition,2),o=i[0],a=i[1];return{renderForMove:function(){r!==o&&r!==a&&D(r)},renderForClick:function(){r!==o&&r!==a&&N(r)}}}var Oe=null;function Se(e){var t=g(e.clientX,e.clientY),n=S([t.w,t.h]),r=B.getState();switch(Oe||(Oe=r.graph[n].type),Oe){case b.BARIER:return Ee(e,r).renderForClick();case b.START_POSITION:return function(e,t){var n=t.barrier.includes(e),r=Object(s.a)(t.startEndPosition,2)[1];n||e===r||L(e)}(n,r);case b.END_POSITION:return function(e,t,n){var r=t.barrier.includes(e),i=Object(s.a)(t.startEndPosition,1)[0];r||e===i||G(e)}(n,r);case b.EMPTY:return Ee(e,r).renderForMove()}}var we=null;var ye=document.getElementById("viewport");if(ye){var Te=ye.getContext("2d");!function(e,t){var n=g(h,d),r=p(n.w,n.h),i=function(e){for(var t=new Path2D,n=g(h,d),r=p(n.w,n.h),i=0;i<=n.w;i++)t.moveTo(i*f+v,0),t.lineTo(i*f+v,r.h);for(var o=0;o<=n.h;o++)t.moveTo(0,o*f+v),t.lineTo(r.w,o*f+v);return{grid:t,applyStyles:function(){e.lineWidth=v,e.strokeStyle=m.borderColor}}}(t);function o(n){!function(e,t){e.clearRect(0,0,t.width,t.height)}(t,e),me.setState(n),function(e,t){for(var n=0;n<e.length;n++)O({position:w(e[n]),context:t,color:m.startEndColor[n]})}(n.startEndPosition,t),pe(n.barrier,t),i.applyStyles(),t.stroke(i.grid)}!function(e,t){var n=t.w,r=t.h;e.height=r,e.width=n}(e,r),me.registerClickEventToCanvas(e),me.addMouseMoveEvent(function(e,t){return Se(e)}),me.addMouseUpEvent(function(){return Oe=null}),me.addMouseClickEvent(function(e,t){return Ee(e,t).renderForClick()}),B.watch(o),Object(l.m)({source:B,clock:Object(l.k)([C,P])}).watch(o),ge.watch(function(e){var n=e.canDrowAnimated,r=e.gameState,i=Object(c.a)(e,["canDrowAnimated","gameState"]);n&&(r===ue.START&&be.clear(),be.removeAnimation(),be.start(i,t))})}(ye,Te)}n(23);var Ae=Object(l.f)({});function ke(){var e,t=Object(u.a)(ie),n=Object(u.a)(te),r=Object(u.a)(fe),o=Object(u.a)(Ae);return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"select-bar"},i.a.createElement("h2",{className:"select-bar_title"},"Select algoritm"),i.a.createElement("h3",{className:"select-bar_title"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0439: ",(null===o||void 0===o?void 0:o.numberOfIterations)||0),i.a.createElement("h3",{className:"select-bar_title"},"\u0414\u043b\u0438\u043d\u0430 \u043f\u0443\u0442\u0438: ",(null===o||void 0===o?void 0:null===(e=o.path)||void 0===e?void 0:e.length)||0),i.a.createElement("ul",null,t.map(function(e,t){return i.a.createElement("li",{onClick:function(){return J(e.name)},className:n===e.name?"isActive":"",key:e.name},e.name)})),i.a.createElement("div",{className:"btn-wrapper"},i.a.createElement("button",{className:"btn",onClick:function(){return se(ue.START)}},"start"),ve(r,ue.START,ue.PAUSE,ue.RESUME)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{className:"btn",onClick:function(){return se(ue.PAUSE)}},"pause"),i.a.createElement("button",{className:"btn",onClick:function(){return se(ue.RESUME)}},"resume")),i.a.createElement("button",{className:"btn",onClick:function(){return se(ue.CLEAR)}},"clear"))))}Object(l.m)({source:{numberOfIterations:Z,path:le},clock:de,target:Ae}),n.d(t,"selectAlgoritm",function(){return J}),n.d(t,"incrementVertex",function(){return H}),n.d(t,"setVertex",function(){return z}),n.d(t,"setDrowAnimated",function(){return K}),n.d(t,"increment",function(){return Q}),n.d(t,"$numberOfIterations",function(){return Z}),n.d(t,"$canDrowAnimated",function(){return ee}),n.d(t,"$currentAlgoritm",function(){return te}),n.d(t,"$traversedVertexes",function(){return ne}),n.d(t,"$vertexesCount",function(){return re}),n.d(t,"$algoritms",function(){return ie}),n.d(t,"$searchAlgoritm",function(){return oe}),n.d(t,"createLogger",function(){return ae}),n.d(t,"canVisitedVertex",function(){return U}),n.d(t,"restorePath",function(){return $}),n.d(t,"removeDoubleVertex",function(){return Y}),n.d(t,"breadthFirstSearch",function(){return q}),n.d(t,"depthFirstSearch",function(){return W}),n.d(t,"graphControll",function(){return k}),n.d(t,"resetStore",function(){return C}),n.d(t,"clearCanvas",function(){return P}),n.d(t,"setBarrier",function(){return D}),n.d(t,"removeBarrierItem",function(){return N}),n.d(t,"triggerStartPosition",function(){return L}),n.d(t,"triggerEndPosition",function(){return G}),n.d(t,"$startEndPosition",function(){return V}),n.d(t,"$barrier",function(){return _}),n.d(t,"$graph",function(){return B}),n.d(t,"setBarrierToGraph",function(){return I}),n.d(t,"setStartPositionToGraph",function(){return M}),n.d(t,"setEndPositionToGraph",function(){return x}),n.d(t,"gameStatus",function(){return ue}),n.d(t,"setGameStatus",function(){return se}),n.d(t,"$path",function(){return le}),n.d(t,"$gameState",function(){return fe}),n.d(t,"startGame",function(){return he}),n.d(t,"endGame",function(){return de});var je=document.getElementById("root");a.a.render(i.a.createElement(ke,null),je)}},[[16,1,2]]]);
//# sourceMappingURL=main.61439b7d.chunk.js.map